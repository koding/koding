{
  "name": "mime-magic",
  "version": "0.3.0",
  "main": "./lib/mime-magic.js",
  "description": "Proper MIME type detection library that wraps the libmagic functionality",
  "engines": {
    "node": ">=0.4.x"
  },
  "homepage": "https://github.com/SaltwaterC/mime-magic",
  "author": {
    "name": "Stefan Rusu",
    "url": "http://www.saltwaterc.eu/"
  },
  "contributors": [
    {
      "name": "Felix Chan",
      "url": "https://github.com/felixchan"
    },
    {
      "name": "eddyb",
      "url": "https://github.com/eddyb"
    }
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/SaltwaterC/mime-magic.git"
  },
  "keywords": [
    "mime",
    "magic",
    "libmagic",
    "file",
    "wrapper",
    "windows",
    "win32"
  ],
  "scripts": {
    "preinstall": "node make.js build",
    "preuninstall": "node make.js purge"
  },
  "readme": "## About\n\nMIME type detection library for node.js. Unlike the [mime](https://github.com/broofa/node-mime) module, mime-magic does not return the type by interpreting the file extension. Instead it uses the [libmagic(3)](http://linux.die.net/man/3/libmagic) library which provides the result by reading the \"magic number\" of the file itself.\n\nCurrently it provides just a simple [file(1)](http://linux.die.net/man/1/file) wrapper to get the things moving, but in the long run, the purpose of this module is to provide proper node.js libmagic bindings. The file(1) source tree is provided along with this package. It is built during the installation process. The module aims to use the latest available file version along with the up-to-date magic database.\n\nThe Windows version of file(1) is bundled with the package. It is a native binary build with MinGW and compressed with UPX.\n\n## Installation\n\nEither manually clone this repository into your node_modules directory, run `make build` (under unices), or the recommended method:\n\n> npm install mime-magic\n\n## Usage mode\n\n```javascript\nvar mime = require('mime-magic');\n\nmime.fileWrapper('/path/to/foo.pdf', function (err, type) {\n\tif (err) {\n\t\tconsole.error(err.message);\n\t\t// ERROR: cannot open `/path/to/foo.pdf' (No such file or directory)\n\t} else {\n\t\tconsole.log('Detected mime type: %s', type);\n\t\t// application/pdf\n\t}\n});\n```\n\nYou may use an array of paths. The callback gets an array of mimes:\n\n```javascript\nvar files = [\n\t'/path/to/foo.pdf',\n\t'/path/to/foo.txt'\n];\n\nmime.fileWrapper(files, function (err, types) {\n\tif (err) {\n\t\tconsole.error(err.message);\n\t\t// ERROR: cannot open `/path/to/foo.pdf' (No such file or directory)\n\t\t// ERROR: cannot open `/path/to/foo.txt' (No such file or directory)\n\t} else {\n\t\tconsole.log(types);\n\t\t// ['application/pdf', 'text/plain']\n\t}\n});\n```\n\nUnder Windows, you must escape the backslash separators of the path argument:\n\n```javascript\nmime.fileWrapper('C:\\\\path\\\\to\\\\foo.pdf', function (err, type) {\n\t// do something\n});\n```\n\nYou may also pass a path that uses forward slashes as separators:\n\n```javascript\nmime.fileWrapper('C:/path/to/foo.pdf', function (err, type) {\n\t// do something\n});\n```\n\nPassing relative paths is supported. The fileWrapper uses child_process.execFile() behind the scenes, therefore the err argument contains the information returned by the execFile() method itself plus the error message returned by file(1).\n\n## Notices\n\nThe module is developed under Ubuntu 12.04, and Windows 7. It is tested under OS X Lion, and FreeBSD 9.0. Other platforms may be supported, but the behavior is untested.\n\nThe Windows binaries are built by myself under Windows 7 / MinGW + MSYS. The binaries are packed with the [UPX](http://upx.sourceforge.net/) tool in order to make them smaller.\n\nHere's the virustotal.com analysis:\n\n * [file.exe](https://www.virustotal.com/file/8e4b6b373538ff98be4df14af0f6ccbd6b1306febc0a37a2a5c7d26f6d8f30f6/analysis/1330428088/) (unpacked)\n * [file.exe](https://www.virustotal.com/file/bf1a01443588e75be0a0b674da0d0467e4203833c4de7a9a1507bffe46a57830/analysis/1330427980/) (packed)\n * [libmagic-1.dll](https://www.virustotal.com/file/0543b99145a57ab425fe48c7613ff85c32185554e6539df1df1ddaf8584755d8/analysis/1330428015/) (packed)\n * [libgnurx-0.dll](https://www.virustotal.com/file/fabb4a8ace8b841e418293fbd41fcb14dd851b1c1e33acd0414669a500cc9540/analysis/1330428002/) (packed)\n\nPlease notice that some antiviruses may throw false positives.\n\n## Contributors\n\n * [Felix Chan](https://github.com/felixchan) - [#1](https://github.com/SaltwaterC/mime-magic/pull/1): couldn't use fileWrapper more than once unless restarted server.\n * [eddyb](https://github.com/eddyb) - [#3](https://github.com/SaltwaterC/mime-magic/pull/3): support for arrays of paths, with the callback getting an array of mime-types.\n",
  "_id": "mime-magic@0.3.0",
  "dist": {
    "shasum": "2f533a249b6b3afa8bcd8c32945f43b429fb40f3"
  },
  "_from": "mime-magic"
}
