#! 2ffd6341-1ab2-441d-b33e-f259f47a5f73
# title: turnVmOnAndOff
# start_uri: /
# tags: automated
#

# create_team_with_existing_account is embedded
- 1ae7b10f-f120-47de-bc67-eae94efbd491

# redirect: false
Click on 'Create a Stack for Your Team' section
Do you see 'Select a Provider' title? Do you see 'amazon web services', 'VAGRANT', 'Google Cloud Platform', 'DigitalOcean', 'Azure', 'Marathon' and 'Softlayer'? Do you see 'CANCEL' and 'CREATE STACK' buttons below?

Click on 'amazon web services' and then click on 'CREATE STACK' button
Has that pop-up disappeared? Do you see '_Aws Stack' title? Do you see 'Custom Variables', 'Readme' tabs? Do you see 'Credentials' text having a red (!) next to it? Do you see '# Here is your stack preview' in the first line of main content? Do you see 'DELETE THIS STACK TEMPLATE', 'PREVIEW' and 'LOGS' buttons on the bottom and 'SAVE' button on top right?

Click on 'Credentials' and then click on 'USE THIS & CONTINUE' button next to 'rainforestqa99's AWS keys' and wait for a second for process to be completed (scroll down if you cannot see 'rainforestqa99's AWS keys')
Have you seen 'Verifying Credentials...' message displayed? Are you switched back to the first tab('_Aws Stack')? (If you're not switched and you got 'Failed to verify: operation timed out' error, click on the same button again)

Click on the 'SAVE' button on top right and wait for a few seconds for that process to be completed
Do you see 'Share Your Stack_' title on a pop-up displayed? Do you see that 'Share the credentials I used for this stack with my team.' checkbox is already checked? Do you see 'CANCEL' and 'SHARE WITH THE TEAM' buttons?

Click on 'CANCEL' and 'INITIALIZE' buttons respectively and wait for a few seconds for process to be completed
Do you see '_Aws Stack' title? Do you see 'Instructions', 'Credentials' and 'Build Stack' sections? Do you see 'NEXT' and 'VIEW STACK TEMPLATE' buttons on the bottom? Do you see 'STACKS', '_Aws Stack' and 'aws-instance' labels on left sidebar?

Click on the 'NEXT' and BUILD STACK buttons respectively
Do you see 'Fetching and validating credentials...' text in a progress bar? Do you see a green progress bar below 'aws-instance' label on left sidebar?

Wait for a few minutes for process to be completed
Do you see 'Success! Your stack has been built.' text? Do you see 'View The Logs', 'Connect your Local Machine' and 'Invite to Collaborate' sections? Do you see START CODING button on the bottom?

Click on START CODING, then move your mouse over 'aws-instance' label on left sidebar and click on the circle button appeared next to it
Has a pop-up appeared? Do you see 'Stacks', 'Virtual Machines' and 'Credentials' tabs on top? Do you see 'aws-inst_' under 'Virtual Machines' section? Do you see 'Edit VM Name', 'VM Power', 'Always On', 'VM Sharing' and 'Build Logs' sections under it?

Click on the toggle button that's in 'ON' state, next to 'VM Power' and wait for a few seconds for process to be completed
Is the label updated as 'OFF'? Is it turned to gray? Has a red progress bar appeared below 'aws-inst_' label and then disappeared after the process is completed?

Click on the same toggle button again (next to 'VM Power')
Is the label updated as 'ON'? Is it turned to green? Has a green progress bar appeared below 'aws-inst_' label?

Close the pop-up by clicking on (x) from top right corner
Do you see 'Boot Virtual Machine' titled pop-up? Do you see 'Spinning up aws-instance' text? Do you see a blue progress bar?

Wait for a few minutes for process to be completed
Do you see 'Your VM has finished Booting' text? Do you see 'START USING MY VM' button?

Click on 'START USING MY VM' button
Do you see '_Aws Stack' under 'STACKS' title in the left sidebar? Do you see a green square next to 'aws-instance' label? Do you see '/home/rainforestqa99' label on top of a file list?

Move your mouse over 'aws-instance' label on left sidebar and click on the circle button appeared next to it again
Do you see 'Stacks', 'Virtual Machines' and 'Credentials' tabs on top? Do you see 'aws-inst_' under 'Virtual Machines' section? Do you see 'Edit VM Name', 'VM Power', 'Always On', 'VM Sharing' and 'Build Logs' sections under it?

Click on the toggle button that's in 'ON' state, next to 'VM Power' and then close the modal by clicking (x) from top right corner
Do you see 'Turn Off VM' titled pop-up in the center of the page? Do you see 'aws-instance is Being Turned Off' text? Do you see 'Stopping VM...' text in a red progress bar? (if the process is already completed it's OK that you don't see the previous items and 'Boot Virtual Machine' titled pop-up instead)

Wait for a few seconds for process to be completed
Do you see 'Boot Virtual Machine' titled pop-up? Do you see 'Let's Boot up aws-instance' text? Do you see 'TURN VM ON' button?

Click on 'TURN VM ON' button
Do you see 'Boot Virtual Machine' titled pop-up? Do you see 'Spinning up aws-instance' text? Do you see a blue progress bar?

Wait for a few minutes for process to be completed
Do you see 'Your VM has finished Booting' text? Do you see 'START USING MY VM' button?