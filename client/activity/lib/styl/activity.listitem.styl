



@css {
/*
Activity listitemview stylesheet
activity.listitem.styl
*/
}


/* Activity items */

.kdlistitemview-activity
  borderBox()

  &.hidden-item
    hidden()


  &.edited .meta .edited-right
    &:after
      content                 ' (edited)'
      display                 inline
      font-family             openSansFamily
      font-size               11px
      color                   #ccc

  .activity-content-wrapper
    rel()

    .show-more
      abs                   inherit 25px 0 0
      padding               0
      color                 #adaeb1
      font-weight           300
      font-size             12px
      text-decoration       none

      &:after
        content             ''
        height              1px
        bg                  color #eaeaea
        abs                 0 0px 0px 0

    .settings-menu-wrapper
      abs                   0 24px 0 0
      size                  15px 10px
      z-index               1

      .kdbuttonwithmenu-wrapper.activity-settings-menu
        size                15px 10px
        padding             0
        cursor              pointer
        button.kdbutton
          size              15px 10px
          bg                color transparent
          border            none
          padding           0
          padding-right     0 !important
          cursor            pointer
        .chevron-separator
          hidden()
        .chevron
          r-sprite          activity chevron-icon

    .author-avatar
      size                  37px 37px
      fl()

      img
        display             block

    .meta
      margin                0 0 0 16px
      fl()

      .profile
        color               #1aaf5d
        font-weight         600
        font-size           14px
        noTextDeco()

        // &:after
        //   content         ""
        //   display         block

      a
        noTextDeco()
      time
        color               #999999
        font-size           12px
        font-weight         400
        margin-top          4px

      .location
        color               #999999
        font-size           12px
        font-weight         400

    > article
      line-height           20px
      font-size             14px
      color                 mainTextColor
      font-weight           400
      word-break            break-word
      clear                 both
      padding-top           12px
      margin-bottom         12px
      overflow              hidden
      max-height            400px
      opacity               .99
      vendor                transition, max-height .3s ease
      rel()

      &.tall
        border-bottom       1px solid #eaeaea
        &:after
          content           ''
          display           block
          abs               100% 0 0 1%
          size              98% 10px
          border-radius     50%
          shadow            0 0 15px 0 rgba(0, 0, 0, 0.25)

      & > p:first-child
        padding-top         0 !important

      & > p:last-child
        padding-bottom      2px !important

      .emoji
        size                16px, 16px
        display             inline-block
        padding             0
        margin              0 0 -2px
        vertical-align      baseline

    .like-summary
      size                  auto, 32px
      clear                 both
      line-height           32px
      padding               0 24px
      font-size             12px
      opacity               .99
      color                 #525252
      background            #fafafa
      rounded               2px
      margin                13px -24px -16px
      shadow                inset 0 1px 0 rgba(0,0,0,.05)

      a
        color               inherit
        font-weight         600
        noTextDeco()

    .activity-actions
      padding               0
      clear                 both
      width                 auto
      display               inline-block

      span.action-container
        font-size           12px
        color               #ADAEB1
        font-weight         400

        a
          font-size         inherit
          color             inherit
          font-weight       inherit
          noTextDeco()

        a.count
          // display         inline-block
          // height          16px
          // line-height     16px
          // padding         0 4px
          // background      #dfdfdf
          // color           #747474
          // rounded         2px
          // margin-left     7px
          // font-size       11px
          display           none

        &~.action-container:before
          content           ""
          display           inline-block
          size              3px, 3px
          rounded           50%
          background        #d3d3d3
          font-size         8px
          margin            0 3px 0 5px
          vertical-align    middle

        &.kdloader
          width             auto
          vertical-align    middle
          margin-left       4px

          &:before
            display         none

  .resend
    position                absolute
    right                   26px
    bottom                  0
    z-index                 10
    padding                 8px 5px 6px
    font-size               12px
    font-weight             400
    border-radius           4px 4px 0 0
    border                  1px solid #D05656
    border-bottom           0

    span
      color                 #D05656

    .kdbutton
      font-weight           inherit
      color                 white
      padding               3px 6px
      height                auto
      border-radius         3px
      font-size             10px
      margin-left           10px
      margin-top            -3px
      noTextDeco()


  .comment-container
    overflow                visible
    background              #fafafa
    padding                 16px 24px 16px
    rounded                 0 0 3px 3px
    shadow                  inset 0 1px 0 rgba(0,0,0,.05)
    borderBox()

    .resend
      position              absolute
      right                 0
      bottom                10px
      z-index               10
      background            #fafafa
      padding               8px 5px 6px
      font-size             12px
      font-weight           400
      border                0

      span
        color               #D05656

      .kdbutton
        font-weight         inherit
        color               white
        padding             3px 6px
        height              auto
        border-radius       3px
        font-size           10px
        margin-left         10px
        margin-top          -3px
        noTextDeco()


    &.no-comments
      display               none

    &.static
      padding-bottom        5px

    .link-embed-box
      border                none
      bg                    color, transparent

      .preview-text
        padding             0 10px
        border-left         5px solid lightGray

      .provider-info
        left                10px

      .hide-embed
        shadow              0 0 0 2px #fafafa
        bg                  color #fafafa

    > .listview-wrapper
      overflow              visible
      margin-top            0 !important

      > .kdscrollview
        overflow            visible

        > .kdlistview
          overflow          visible


    .comment-input-widget
      position              relative
      margin-top            0
      margin-bottom         0
      height                auto


      .embed-link-view
        padding             20px 10px 2px 38px

      &.edit-comment-box .embed-link-view
        padding             20px 10px 2px 0px

      .embed-link-view.with-image
        .preview-text
          padding           0 10px

      .avatarview
        abs                 0 0 0 0px
        display             block
        z-index             2

        img
          display           block

      .comment-input-wrapper
        margin-left         37px
        padding             0 54px 0 7px
        height              auto
        min-height          30px
        kalc                width (100% \- 37px)
        rounded             3px
        border              1px solid #EAEAEA
        background          #fff
        position            relative
        borderBox()

        &:hover
          border            1px solid #DADADA
        &:focus
          border            1px solid #CACACA

      .comment-input-view
        font-weight         300
        font-size           12px
        color               #444
        border              none
        background          transparent
        padding             0
        min-height          24px
        margin              5px 0 0

        &:focus
          shadow            none

        &.placeholder
          > div
            color           #BABABA
            &:hover
              color         #9a9a9a
              border-color  #EAEAEA

      .kdbutton.submit-button
        abs                 0 5px 5px 0
        size                45px, 23px
        line-height         23px
        padding             0 0 0 1px
        z-index             100
        rounded             3px

        .button-title
          line-height       23px
          font-size         10px
          font-weight       600

        &[disabled=disabled]
          background        #EDEDED

          .button-title
            color           #939393

    .list-previous-link
      size                  100%, auto
      line-height           32px
      rounded               3px
      background            #ededed
      text-align            center
      display               block
      color                 #1aaf5d
      font-size             12px
      font-weight           600
      margin                0 0 10px
      noTextDeco()

    .new-messages
      // bg                  color rgba(240, 112, 95, 0.3)
      // background          -moz-linear-gradient(left,  rgba(250,250,250,1) 0%, rgba(240,112,95,0.3) 100%)
      // background          -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(250,250,250,1)), color-stop(100%,rgba(240,112,95,0.3)))
      // background          -webkit-linear-gradient(left,  rgba(250,250,250,1) 0%,rgba(240,112,95,0.3) 100%)
      // background          linear-gradient(to right,  rgba(250,250,250,1) 0%,rgba(240,112,95,0.3) 100%)
      background            rgb(250,250,250)
      background            -moz-linear-gradient(left,  rgba(250,250,250,1) 0%, rgba(240,112,95,1) 50%, rgba(250,250,250,1) 100%)
      background            -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(250,250,250,1)), color-stop(50%,rgba(240,112,95,1)), color-stop(100%,rgba(250,250,250,1)))
      background            -webkit-linear-gradient(left,  rgba(250,250,250,1) 0%,rgba(240,112,95,1) 50%,rgba(250,250,250,1) 100%)
      background            linear-gradient(to right,  rgba(250,250,250,1) 0%,rgba(240,112,95,1) 50%,rgba(250,250,250,1) 100%)

      size                  auto 1px
      overflow              visible
      margin                0 33px 0 75px
      borderBox()
      hidden()
      &:after
        text-align          center
        width               90px
        font-size           11px
        top                 -7px
        right               50%
        margin-right        -30px
        padding             2px 0
        content             'NEW REPLIES'
        color               #fafafa
        bg                  color #f0705f
        rounded             10px
        hidden()
        abs()

    .kdlistitemview-comment
      // background          #f7f7f7
      // border-top          1px solid #e9e9e9
      padding               3px 15px 12px 37px
      borderBox()
      fadeOut()

      &.edited time:after
        content             ' (edited)'
        display             inline
        font-size           11px
        color               #ccc

      pre
        padding             6px 0

      &:last-child
        padding-bottom      20px

      &:hover .kdbutton.comment-menu
        opacity             1

      .kdbutton.comment-menu
        opacity             0

      .comment-menu
        background          transparent
        border              none
        shadow              none
        padding             0
        abs                 15px 0px 0 0
        opacity             0

        .icon
          r-sprite          'activity', 'comment-chevron-icon'

      .avatarview
        abs                 6px 0 0 0px
        display             block

        img
          display           block

      a.profile
        font-size           12px
        font-weight         600
        color               #1aaf5d
        margin              0 6px 0 0
        noTextDeco()

      .comment-body-container
        font-size           12px
        color               #575757
        padding             0
        line-height         16px
        opacity             .99
        display             inline

        &:after
          content           ''
          display           block
          width             100%
          clear             both
          margin            0 0 3px 0


        p
          a
            noTextDeco()

            &.profile-link
              color         #1aaf5d

          .emoji
            size            16px, 16px
            display         inline-block
            padding         0
            margin          0 0 -2px
            vertical-align  text-top

      .action-link
        font-size           12px
        color               #a3a3a3
        noTextDeco()

        &:before
          content           ''
          display           inline-block
          size              3px 3px
          rounded           50%
          background        #d3d3d3
          margin            -2px 7px 0 5px
          vertical-align    middle

      .like-count
        noTextDeco()
        display             inline-block
        height              16px
        line-height         16px
        padding             0 4px
        background          #dfdfdf
        color               #747474
        rounded             2px
        margin-left         7px
        margin-bottom       -2px
        font-size           11px

        &:before
          display           none

      time
        color               #cacaca
        width               auto
        font-size           12px
        display             inline-block

      .edit-comment-box
        margin              6px 0

        .input-view
          padding-left      0

        .comment-input-wrapper
          margin-left       0
          width             100%

        .cancel-description
          font-size         12px
          color             #cbcbcb
          text-align        right
          margin            4px 10px 0 0

  &.editing
    .edit-widget-wrapper
      display               block

      .input-view
        min-height          50px

    .activity-content-wrapper
      > article
        display             none

      .activity-actions
        display             none

      .cancel-editing
        background          transparent
        shadow              none

        .button-title
          color             #999

    .link-embed-box
      border                none
      bg                    color transparent

      .embed-link-view
        padding             20px 0 15px 0px
        &.with-image .preview-text
          padding           0 20px 0 10px

      .preview-text
        padding             0 20px 0 10px
        border-left         5px solid #f0f0f0

      .provider-info
        left                10px

      .preview-link-pager
        right               60px
        bottom              19px

      .hide-embed
        right               -8px
        shadow              0 0 0 2px white
        bg                  color white


.kdlistitemview-activity.preview
  margin-top                9px
  overflow                  visible
  border                    2px dashed #cfcfcf
  rounded                   6px 6px 0 0
  background                #fff
  borderBox()

  .activity-actions
  .comment-container
  .settings-menu-wrapper
    display                 none

  .show-more
    bottom                  8px

  &:after
    content                 ''
    size                    0 0
    border                  10px solid transparent
    border-bottom-color     #fff
    abs                     0 114px 100% 0
    margin-bottom           -2px

  &:before
    content                 ''
    size                    0 0
    border                  10px solid transparent
    border-bottom-color     #cfcfcf
    abs                     0 114px 100% 0

  .activity-content-wrapper
    padding-bottom          15px

  .preview-indicator
    cursor                  pointer
    abs                     14px 14px 0 0
    color                   #1aaf5d
    font-size               12px
    line-height             16px

    &:after
      content               ''
      display               inline-block
      r-sprite              activity, 'green-cancel-16'
      vertical-align        middle
      margin-left           7px

.kdlistitemview-activity
  margin-bottom             13px
  padding                   0
  background                #fff
  rounded                   3px
  border                    1px solid #e2e2e2
  fadeOut()

  &.static
    margin-bottom           16px
    max-width               720px

    &:first-of-type
      margin-top            34px

  .activity-content-wrapper
    padding                 24px 24px 16px
    rounded                 3px 3px 0 0
    borderBox()

  .edit-widget-wrapper
    display                 none

.link-embed-box
  width                     auto
  position                  relative
  margin                    14px 0

  .embed-link-view
    margin                  0
    border                  none
    width                   auto
    height                  100px
    padding                 0
    &.with-image

      .preview-text
        kalc                width (100% \- 100px)
        padding             0 20px 0 10px


  a.embed-image-view
    display                 inline-block
    border                  1px solid lightGray
    overflow                hidden
    rounded                 3px
    min-width               getSmallGoldenFraction(600)
    text-align              center
    bg                      color #fafafa
    borderBox()

    img
      size                  auto auto
      max-width             100%
      max-height            450px
      vertical-align        text-bottom

  .preview-image
    size                    100px 100px
    border                  none
    overflow                hidden
    rounded                 3px
    fl()

  .preview-text
    width                   100%
    height                  100px
    padding                 0 10px
    overflow                hidden
    border-left             5px solid lightGray
    borderBox()
    fl()

    a
      text-decoration       none
      width                 auto
      display               inline

    .title
      max-width             100%
      display               block
      font-size             12px
      line-height           20px
      font-weight           600
      margin-bottom         8px
      color                 #636363
      white-space           nowrap
      text-overflow         ellipsis
      overflow              hidden

    .description
      display               block
      height                50px
      overflow              hidden
      font-size             12px
      color                 #3b3b3b
      line-height           16px

    .provider-info
      size                  auto auto
      color                 #acacac
      font-size             12px
      line-height           16px
      abs                   0 0 0px 10px
      display               inline-block
      overflow              visible


  // .activity-content-wrapper > .link-embed-box
  //   padding                 0 0 15px
  //   overflow                visible
  //   borderBox()

  //   .embed-link-view

  //     .preview-image
  //       display             block
  //       margin              0
  //       padding             0
  //       z-index             10

  //       img
  //         display           block
  //         margin            0
  //         padding           0
  //         width             100%
  //         min-height        153px

  //     .preview-text
  //       padding             17px
  //       border              1px solid #e5e5e5
  //       z-index             9
  //       borderBox()

  //       a.preview-text-link
  //         noTextDeco()

  //         h4
  //           font-size       14px
  //           line-height     19px
  //           color           #4f4f4f
  //           display         block

  //       a.description
  //         padding           14px 0
  //         color             #727272
  //         font-size         12px
  //         line-height       18px
  //         display           block
  //         opacity           .99

  //       .provider-info
  //         overflow          visible
  //         color             #bdbdbd
  //         opacity           .99
  //         font-size         12px
  //         line-height       16px

  //     .preview-image + .preview-text
  //       border-top-color    #d2d2d2

.kdlistitemview-comment .link-embed-box .preview-text
  kalc                      width (100% \- 100px)

  .preview-text-link
    height                  34px

.comment-input-widget
  .link-embed-box .preview-text
    kalc                    width (100% \- 100px)