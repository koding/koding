

@import "nib/gradients"

active-color       = #1B2224
finderDimmedColor1 = #cccccc
finderDimmedColor2 = #c2c2c2
@css {
/*
FINDER stylesheet
resurrection.finder.styl
*/
}

body.ide

  .nfinder
    styleScrollBars rgba(255,255,255,.25)
    > .kdscrollview > *
      min-width         234px

    ul ul li.selected
      bg                color, #131313

    .finder-notification
      display           none

  // .jtreeview-wrapper
  //   kalc                height, 100% \- 78px

  .kdlistitemview-finderitem
    height              auto
    min-height          24px
    font-size           13px
    color               #D4CFC9
    background-color    transparent
    margin-bottom       4px
    noTextSelection()

    .chevron
      abs()
      top               5px
      right             25px
      z-index           2
      float             none
      display           none
      margin            0
      r-sprite          'finder', 'expanded'

    &.selected
      // I'll find a better place for it ~ GG
      .vm
        span.path-select
          display       block
          bg            position, -220px -520px
      .title
        color           #ddd
        text-shadow     none
      &+.selected
        selectedNeighbor()
      &+.jtreevie
        .kdlistitemview-finderitem
          &:first-child
            &.selected
              selectedNeighbor()

    &.unsaved
      span.icon
        color           black!important
        font-size       14px
        text-indent     -2px
        line-height     10px
        vertical-align  top
        &:before
          content       "*"

    &.expanded
      > div
        span.icon
          r-sprite      finder '16-folder-expanded'


    &.being-inline-edited
      .chevron
        hidden()

    &.being-deleted
      background        linear-gradient(top, rgb(199,81,29) 100%,rgb(168,70,25) 44%)
      height            22px
      .kdview.delete-container
        padding         0 10px
      label
        color           white
      button.kdbutton
        margin          3px 15px 0 0
        padding         2px 4px 2px 4px
        width           auto
        font-weight     normal
        fr()

    &.items-hovering
      background        rgba(136, 183, 214, 0.25)
      text-shadow       none

    &.drop-target
      background        rgb(136, 183, 214)
      color             white
      text-shadow       none

    a.cancel
      abs()
      size            15px, 15px
      bg              position, -82px -222px
      right           7px
      top             3px
      kdfsprite()
      &:focus
      &:active
        bg            position, -62px -242px

    > div
      line-height       24px
      height            100%
      width             auto
      .title
        cursor          default
        font-weight     normal
        margin-right    40px
        display         block
        overflow        hidden
        text-overflow   ellipsis
        white-space     nowrap

      form
        height          22px

      input.kdinput.text
        margin          2px 5px 0 0
        height          24px
        line-height     1em
        border          none
        shadow          none
        rounded         2px
        fl()

      // button.kdbutton
      //   margin          2px 10px 0 0
      //   padding         2px 4px 2px 4px
      //   width           auto
      //   font-weight     normal
      //   fr()

      .kdloader
        margin        3px 0 0
        width         20px

      &.rename-container
        height        24px
        padding-right 25px
        input.hitenterview
          bg          image, none
          width       100%
          margin      2px 0
          padding     0 0 0 7px
          font-size   13px
          font-weight 400
        a.cancel
          top         6px
          right       4px
          r-sprite      finder '16-close-white'

    .progressbar-container
      hidden()

    &.progress
      vendor          transition-duration, 100ms
      opacity         0.7
      .title
        width         70px
      .progressbar-container
        visible()
        abs           9px 45px
        size          40px 6px
        .bar
          gradient    #afafaf, #afafaf
          shadow      none
      &.being-deleted
      &.being-edited
        .progressbar-container
          hidden()
      .vm
        .vm-info
          hidden()
        .title
          width       auto
        & + .progressbar-container
          top         23px
          right       11px
          width       187px

  .file-container
    .app-header
      size            100% 37px
      bg              color transparent
      line-height     37px
      color           #555
      font-size       12px
      text-indent     10px
      text-transform  uppercase
      font-weight     400


    .kdbutton.finder-mountvm
      rounded             2px
      color               #FFF
      font-size           13px
      line-height         39px
      background          none
      font-weight         300
      padding             0
      text-align          left
      text-shadow         none
      display             block
      size                auto, 39px
      border              1px dashed #5A5A5A
      text-decoration     none
      z-index             20
      kalc                width, 100% \- 42px
      text-align          center
      abs()
      bottom              20px
      left                16px
      .icon
        display           inline-block
        r-sprite          'ide', 'add-vm'
        padding           0
        margin            0
        float             none
        vertical-align    sub

      &:active
      &:focus
        vendor           shadow, none

    .vm
    .file
    .mount
    .folder
    .broken
    .section
      font-size       13px

      span.icon
        fl()

      span.icon
      span.path-select
        margin            4px 2px 0 2px
        size              16px 16px

    .folder
      span.icon
      span.path-select
        margin            4px 6px 0 0px

    .vm
      margin              15px 14px 11px 13px !important
      pointer()
      position            relative

      .vm-header
        height            39px
        line-height       39px
        bg                color, #131313
        rounded           2px

      .kdselectbox
        bg                color, transparent
        border            1px solid #555555
        margin-top        14px
        rounded           3px
        width             100%
        height            24px
        borderBox()
        .title
          line-height     22px
        .arrows
          r-sprite        'finder', 'expanded'
          top             2px
          right           11px

      .buttons
        abs()
        right             13px
        top               12px
        height            13px
        z-index           200

      .terminal
        r-sprite          'ide', 'terminal'
        rounded           0
        border            none
        margin            0 7px 0 0
        float             none
        display           inline-block

      .kdloader
        margin            0
        top               10px
        left              5px
        abs()

      .chevron
        r-sprite          'ide', 'cog'
        display           inline-block !important
        position          relative
        top               -8px
        left              0

      span.vm-info
        color             #949290
        font-size         13px
        margin-left       15px
        top               0
        left              0
        opacity           1
        line-height       inherit
        font-style        normal
        max-width         175px
        ellipsis()

      div.vm-toggle
        top               3px
        right             20px
        abs()

    .kdlistitemview-finderitem.expanded
      .folder
        .icon
          r-sprite        finder, 'expanded'

    .folder
      .icon
        r-sprite          finder, 'collapsed'

    .mount
      .icon
        r-sprite          finder '16-folder'
      .icon.application
        r-sprite          finder '16-app'

    .folder
      .icon
        &.app
          r-sprite        finder '16-app'

    .broken
      .icon
        bg                position, -60px -140px

    .file
      .icon
        r-sprite          finder, 'file'
        &.code
          r-sprite        finder, 'code'
        &.image
          r-sprite        finder, 'image'
        // &.archive
        //   bg          position, -40px -220px
        // &.new-file
        //   bg          position, -40px -240px
        // &.video
        //   bg          position, -40px -260px
        // &.sound
        //   bg          position, -40px -280px
        // &.text
        //   bg          position, -40px -300px



  .set-permissions-wrapper
    margin-left     0
    line-height     28px
    min-width       217px
    font-size       11px
    size            auto auto

    header
      border-bottom 1px solid rgb(213,213,213)
      padding-left  72px
      span
        width       45px
        text-align  center
        fl()

    aside
      width         60px
      text-align    right
      margin-right  12px
      padding-top   3px
      line-height   23px

      fl()

    section
      display       block
      overflow      hidden

    footer
      padding       0 0 15px

      p.old
        color       #666
        margin-left 15px
        em
          color     #888
      p
        width       48px
        fl()
        em
          font-style  normal
          color       logoBg
          font-weight 400

      button
        margin        0 15px 0 !important
        fr()

      label
        margin-right  2px

      .recursive
        padding       15px 15px 15px 42px
        margin        0 0 15px
        border-bottom 1px solid rgb(213,213,213)

      .koding-on-off
        margin        4px 0 0
        fr()

    .switcher-group-mask
      size        200px, 100px
      background  #fff
      opacity     0.6
      position    absolute
      &.can-set-recursive
        height    135px

    .new-mode-label
      margin-left 203px
      float       left

    .new-mode-input
      position    relative
      top         -2px
      width       30px

    .switcher-group
      width         45px
      fl()

    .koding-on-off
      margin        5px auto 0

  #finder-dnduploader
     color             #fff
     padding-right     2px
     z-index           1000
     background        #252525
     borderBox()
     abs()

    .file-droparea
      kalc             width   100% \- 20px !important
      kalc             height  100% \- 65px !important
      .file-drop
        pointer-events none

  .kdnotification.finder-notification
    top                16px !important
    left               0 !important
    abs()
    rounded            0
    bg                 color, #d65745
    size               100%, 39px
    line-height        39px
    padding            0
    margin             0
    shadow             none
    border             none
    font-size          12px
    font-weight        300
    color              #fbfbfb
    letter-spacing     .2px

    &.success
      bg               color, rgba(20, 151, 63, 1.0)

    .kdnotification-title
      color            inherit
      font-size        inherit
      font-weight      inherit
      line-height      inherit
      letter-spacing   inherit
      opacity          .9
      padding          0 0 0 13px
      margin           0
      z-index          9

    .kdnotification-close
      display          block
      abs              11px 11px 0 0
      z-index          10
      r-sprite         "app", "red-close"


  .kdmodal.mount-vm
    .kdlistview-vmlist
      .kdlistitemview
        padding        8px
        borderBox()

        &~.kdlistitemview
          margin       4px 0 0


        &:nth-of-type(even)
          background   #f7f7f7
          rounded      6px

        label
          fl()

      .koding-on-off
        fr()

  // this widget is broken on prod too, currently disabled
  .no-vm-found-widget
    display             none
