@import "../../Framework/src/themes/default/kdfn"
@import "../../Core/styl/appfn"

@css {
/*
IDE Chat stylesheet
ide.chat.styl
*/
}

pmTitleColor  = #6A6A6A
pmBorderColor = #E0E0E0
pmLinkColor   = #B6B6B6

.chat-dropdown .search
  cursor                    default !important

.chat-dropdown .separator > .kdview
  hidden()

.chat-view
  abs                       0 13px 40px 0
  size                      325px 567px
  max-height                calc(100vh \- 53px)
  z-index                   20
  bg                        color #F8F8F8
  rounded                   3px 3px 0 0
  overflow                  hidden

  .custom-link-view.close
    abs                     15px 12px 0 0
    size                    20px 20px
    z-index                 1
    .icon
      margin                6px
      r-sprite              ide 'chat-close'
      display               block

  a.workspace-name
    font-family             adelleFamily
    color                   pmTitleColor
    font-size               13px
    height                  20px
    line-height             20px
    display                 inline-block
    padding-left            16px
    noTextDeco()
    rel()
    &:before
      content               ''
      r-sprite              ide lock
      display               inline-block
      abs                   2px 0 0 0px

  .pm-title-chevron
    size                    14px 15px
    bg                      color transparent
    border                  none
    padding                 0
    padding-right           0 !important
    cursor                  pointer
    margin-left             11px

    &:focus
      vendor                box-shadow, none

  .chevron-separator
    hidden()

  .chevron
    r-sprite                ide title-chevron
    top                     5px
    left                    0
    abs()

  .general-header
    padding                 16px 16px 0

    .session-link
      font-size             11px
      font-family           adelleFamily
      line-height           18px
      color                 pmLinkColor
      display               block
      hidden()
      noTextDeco()

  > .kdtabpaneview
    padding                 16px
    borderBox()

    header

      .chat-link
        height              20px
        line-height         20px
        font-size           14px
        color               #B7B7B7
        noTextDeco()

        &:before
          content           ''
          display           inline-block
          margin-right      7px
          r-sprite          'ide', 'chat-back'

    div.buttons
      abs()
      padding               16px 0
      bottom                0

    .kdbutton
      &[disabled]
        bg                  color #D0D0D0

      &.green
        bg                  color #52A840

      &.red
        bg                  color #F56778

      span.button-title
        font-size           12px
        line-height         18px

  .kdselectbox
    height                  24px
    rounded                 3px
    borderBox()

    span.title
      font-size             11px
      line-height           24px
      padding               0 29px 0 11px
    span.arrows
      r-sprite              ide 'selectbox-arrow'
      right                 9px


  ul.settings
    line-height             24px
    padding                 12px 0
    &.default
      border-bottom         1px solid pmBorderColor
      label
        color               #7B7B7B
        font-size           13px
        fl()

    li
      color                 #5E5E5E
      font-size             12px
      cf()
      label
        fl()
      .kdselectbox
        fr()

.chat-view

  .kdtabpaneview.privatemessage
    padding                 0
    height                  100%
    max-height              100%
    min-height              100%

    .new-message-form.inline
      background            transparent
      padding               0
      size                  293px, 37px
      left                  14px
      top                   90px
      opacity               0
      z-index               -1
      vendor                transition, opacity .3s ease \, top .3s ease

      .formline.recipient
        rounded             0
        border-color        #E9E9E9
        padding-left        8px

      .kdinput.text
        height              37px
        font-size           12px

      &.active
        top                 78px
        opacity             1
        z-index             100

    .chat-heads
      bg                    color, transparent

      .description
        display             none

      .activity-settings-menu
        display             none

    .message-pane-scroller
      height                calc(100% \- 118px)
      > .kdscrollview
        padding             0

    .kdlistview-privatemessage
      width                 calc(100% \- 28px)

    .kdlistitemview-activity.privatemessage
      background            transparent
      margin                0 0 0 22px

      .avatarview
        bg                  size, 30px 30px !important
        left                -48px

        img
          width             30px !important
          height            30px !important

      .activity-content-wrapper
        margin              0 0 0 40px

        .meta
          margin            6px 0 0px 0

          .profile
            font-size       12px

          time:before
            content         ''
            display         inline-block
            size            4px 1px
            bg              color, #D0D0D0
            vertical-align  super
            margin          1px 4px 0

        > article
          font-size         12px
          line-height       18px
          margin-top        0

          p
            padding-right   0

      &.consequent
        .meta
          top               0
          left              -61px
          margin-top        0
          width             62px

          time
            font-size       9px

            &:before
              display       none

    .reply-input-widget
      size                  100% auto
      margin                0

  .participant-view
    margin-bottom           5px

    &:hover .kick-button
      display               inline-block
      visibility            visible
      color                 #F56778
      background            transparent
      border                none
      height                24px

    &.offline
      .avatarview
        opacity             .5

    &.me
      height                auto
      margin-top            12px

    .avatarview
      display               inline-block
      margin-right          8px
      size                  32px, 32px

    .name
      display               inline-block
      font-size             13px
      line-height           32px
      height                32px

    .kick-button
      hidden()

      &:focus
        box-shadow          none

    .settings
      abs()
      right                 0
      top                   5px

    .watch-button
      size                  34px, 24px
      background            #35AFC3
      border                none
      rounded               6px
      text-align            center
      line-height           24px

      &.watching
        background          #24B444

      .icon
        r-sprite            'ide', 'collab-eye'
        display             inline-block

    .kdselectbox
      margin-top            -3px

  .you
    abs()
    font-size               12px
    color                   #6a6a6a
    right                   0
    height                  34px
    line-height             34px

  .everyone
    padding-top             0 !important

    &.loading
      text-align            center
      padding               30px 0

      &.kdloader
        margin-bottom       5px

      .label
        color               #6a6a6a
        font-size           13px

    .name
      width                 80px
      vertical-align        top
      ellipsis()

  .chat-settings .buttons
    button
      size                  293px 34px


.ide
  .host .avatars

    .avatarview.offline
      display               inline-block
      img
        opacity             .2 !important
        &:hover
          opacity           .5 !important


  .avatars
    margin-right            5px

    .avatarview
      display               inline-block
      margin                7px 3px 0
      size                  24px 24px
      overflow              visible
      borderBox()
      rel()
      &:after
        content             ''
        abs                 0px 0 0 0px
        size                24px 1px
        vendor              transition, all .3s ease
        shadow              0 0 0 0 #ff9200
        bg                  color transparent

      &.watching:after
        content             ''
        size                2px 1px
        abs                 28px 0 0 11px
        shadow              0 0 5px 2px #ff9200
        z-index             2
        background          #ff9200

      &.offline
        display             none
        &.watching:after
          display           none
      img
        vertical-align      top
        borderBox()

.chat-view.loading

  .loader-view
    text-align              center
    font-size               13px

    .kdloader
      abs()
      height                24px
      margin                -25px 0 10px
      top                   50%
      left                  0

    .label
      abs()
      top                   50%
      width                 100%
      margin-top            10px
      color                 #6a6a6a


.chat-view .chat-settings .warning

  hidden()


.chat-view.onboarding
  height                    168px

  .chat-settings .warning
    visible()
    text-align              center

    span
      color                 #777
      font-size             14px
      display               inline-block
      margin-top            22px
      line-height           1.4em

    p
      margin-top            10px

      a
        font-size           13px
        color               #F56778
        text-transform      uppercase
        noTextDeco()

    strong
      font-weight           600
      color                 #575757

  .settings
  header.chat-settings

    hidden()


.chat-view .message-pane

  .onboarding
    abs()
    top                     90px
    z-index                 2 // acetz!
    background              #F8F8F8

    .arrow
      r-sprite              'ide', 'chat-arrow'
      display               inline-block
      margin                0 42px 0 50px

    .balloon
      r-sprite              'ide', 'chat-balloon'
      display               inline-block

    p
      color                 #52A840
      font-size             18px
      padding               0 30px
      margin-top            20px
      line-height           1.4em

      a
        color               #52A840
        font-weight         600
        text-decoration     none
        pointer()

.chat-view

  .everyone
    margin-top              12px

    p
      color                 #7b7b7b
      font-size             13px
      margin-top            20px
      line-height           1.4em
      text-align            center

      a
        color               #52A840
        font-weight         600
        text-decoration     none
        pointer()
  
  .activity-content-wrapper
  
    > article
      max-height            270px

.ide
  .kdlistitemview
    &.end-session
    &.leave-session
      div
        color               #F56778
