@require "./app.fonts"

@css {
/*
MAIN APP stylesheet
resurrection.styl
*/
}

// When app class is added to html tag
// layout becomes 100% width and height
// so that apps can control their own
// scrollviews and add their chrome frames
html.app
  height            100%

  body
    height          100%
    overflow        hidden  // this is to avoid rubber-band/elastic scroll on macs

body
  font-family             openSansFamily
  font-weight             400
  -webkit-font-smoothing  subpixel-antialiased

  &.noscroll
    overflow        hidden

  &.logged-in
    #main-header
      nav
        hidden()

  > .invisible
    abs             -1000% 0 0 -1000%

input
textarea
button
  font-family       SoleilFamily

input[type=checkbox]:checked + label:after
  border-right              3px solid #00B057 !important
  border-top                3px solid #00B057 !important

pre
  font-family               monoFamily

.kdview
  overflow                  visible

.no-anim
  noAnim()

#kdmaincontainer
  width                     auto

  #main-sidebar
    z-index                 0
    vendor                  transition, width .3s ease
    hidden()

  &.fullscreen
    width                   100%!important
    left                    0!important
    top                     0!important
    bottom                  0!important
    right                   0!important
    z-index                 10
    .application-page
      padding               0!important
    .app-settings-menu
      top                   0
      right                 0
    #main-header
      hidden()

  &.with-sidebar
    #main-panel-wrapper
      fr()
      vendor                transition, margin-left .3s ease
      margin-left           sidebarWidth + 1
      width                 calc(100% - 258px)

    #main-sidebar
      z-index               2
      visible()

      .SidebarListItem
        white-space         nowrap
        rel()

      .logo-wrapper
        .team-logo-wrapper
          size              40px, 40px
          display           flex
          align-content     center
          justify-content   center
          abs               0px 0 0 0px
          .team-logo
            max-width       100%
            max-height      100%
            height          auto
            flex            0 0 auto
            align-self      center

        .nickname
          abs()
          top               23px
          left              46px
          font-size         13px
          color             #989898
          &.no-logo
            left            16px

        .team-name
          abs()
          left              47px
          height            16px
          color             #b3b3b3
          margin-top        10px
          font-size         13px
          text-transform    capitalize
          width             calc(100% - 70px)
          background        none
          cursor            pointer
          &.no-logo
            left            18px

          noTextDeco()
          ellipsis()
          dIBlock()
          &:after
            content         ''
            r-sprite        'app' '20_chevron_gray'
            margin-left     1px
            margin-top      -3px
            opacity         .7
            vertical-align  top
            dIBlock()

        a
          vendor            transition, width .3s ease

      > .kdcustomscrollview
        .kdscrolltrack.horizontal
          hidden()

      .count
      .SidebarListItem-unreadCount
        vendor              transition, all .3s ease

      .sidebar-title
      .sidebar-machine-box
        > cite, div
          vendor            transition, opacity .3s ease

      .SidebarSection-header
        vendor              transition, opacity .3s ease

    #main-header
      hidden()

    &.hover
    &.collapsed

      #main-sidebar
        border-right        2px solid #131313

        .sidebar-message-text > .profile
          abs()
          top               -2px

        .SidebarListItem
          white-space       nowrap

          &:hover
            white-space     normal

        .progressbar-container
          hidden()

      #main-panel-wrapper
        width               calc(100% - 50px)
        margin-left         50px

    &.hover
      #main-sidebar
        width               sidebarWidth + 1

      .sidebar-close-handle
        vendor              transform, scaleX(-1)

    &.collapsed
      #main-sidebar
        .Sidebar-logo-wrapper
          hidden()

        &.team
          .logo-wrapper.group
            > a
              width         0
            .nickname
              display       none

          .account-area
            .notifications
              bg            image, none

          .SidebarListItem
            overflow        hidden

        .logo-wrapper
          padding           0


        .sidebar-close-handle
          display           none !important

        .SidebarSection-header
        .Workspaces-section
        .MachineSettings
        .SidebarListItem-title
        .SidebarListItem-progressbar
        .sidebar-title
          opacity           0

        .sidebar-machine-box
          width             20px

          .kdscrollview
            overflow        hidden !important

          a.vm
            width           13px
            padding-right   0

            div
            span
              hidden()

          .listview-wrapper
          > cite, div
            opacity         0

          cite.count
            display         none

        .kdlistitemview-sidebar-item
          .sidebar-message-text
            text-indent     9999px

          .ttag em
            opacity         0

        .count
        .SidebarListItem-unreadCount
          right             16px
          top               -1px
          size              8px 8px
          rounded(50%)
          font-size         0
          padding           0
          border            1px solid #393233

        .SidebarListItem-unreadCount
          right             -1px
          top               1px
          min-width         0

        .account-area
          width             50px

          .profile
          .notifications .icon
            hidden()

          .notifications .count
            top             8px
            left            31px

          .acc-dropdown-icon
            opacity         0

        .more-items
          width             30px
          font-size         0
          left              10px
          vendor            box-shadow, 0 0 5px 5px #323232

#main-panel-wrapper
  min-height                100%
  z-index                   1
  bg                        color, white
  vendor                    transition, box-shadow .177s ease

  .system-notification
    abs                     3px 3px
    height                  50px
    kalc                    width, (100% \- 6px)
    bg                      color #F69C31
    color                   white
    z-index                 10
    font-family             SoleilFamily
    font-size               14px
    font-weight             300
    line-height             18px
    padding                 17px 50px 17px 18px
    opacity                 .9
    vendor                  transform, translateY(-100%) translateZ(0)
    vendor                  transition, transform .177s ease-out
    borderBox()
    &.in
      vendor                transform, translateY(0%) translateZ(0)
    p
      ellipsis()
    b
      font-weight           600
    a
      color                 white
      text-decoration       underline
    a.close
      abs                   0px 0px
      size                  50px 50px
      &:before
        content             ''
        display             block
        r-sprite            app 'notification_warning_close'
        margin              13px 0 0 13px

    &.error
      bg                    color, #EB4835

    &.success
      bg                    color, #1AB05D

    &.stack-admin-message
      z-index               10000

#main-header
  margin                    0
  size                      100%,55px
  z-index                   1000
  overflow                  visible
  max-width                 1290px
  shadow                    none
  padding                   0 36px
  abs                       48px 0 0 50%
  vendor                    transform, translateX(-50%)
  z-index                   15
  borderBox()

  .inner-container
    bg                  color, transparent

  .logotype
    margin-top              29px
    font-size               18px
    color                   #32435c !important
    font-weight             700
    line-height             17px
    color                   #fff
    -webkit-font-smoothing  antialiased
    noTextDeco()
    visible()
    fl()

  #koding-logo
    margin                  28px 11px 0 0
    size                    auto auto
    bg                      color, transparent
    position                static
    letter-spacing          .01em
    fl()

    cite
      bg                    image, url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5cHgiIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDE5IDE4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbG5zOnNrZXRjaD0iaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoL25zIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBiaW4vc2tldGNodG9vbCAxLjQgKDMwNSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+a29kaW5nLWxvZ288L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIGJpbi9za2V0Y2h0b29sLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMzQuMjEwNTI2MyUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjEwMCUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzE5QTE5NyIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMjBCRTg1IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc2tldGNoOnR5cGU9Ik1TUGFnZSI+CiAgICAgICAgPGcgaWQ9IkRvY3MtcGFnZSIgc2tldGNoOnR5cGU9Ik1TQXJ0Ym9hcmRHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU1LjAwMDAwMCwgLTI3LjAwMDAwMCkiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMSkiPgogICAgICAgICAgICA8ZyBpZD0iSGVhZGVyIiBza2V0Y2g6dHlwZT0iTVNMYXllckdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1NC4xMjUwMDAsIDIzLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTAuODc1LDQgTDE5Ljg3NSw0IEwxOS44NzUsOCBMMC44NzUsOCBMMC44NzUsNCBaIE0wLjg3NSwxOCBMMTkuODc1LDE4IEwxOS44NzUsMjIgTDAuODc1LDIyIEwwLjg3NSwxOCBaIE0wLjg3NSwxMSBMMTUuODc1LDExIEwxNS44NzUsMTUgTDAuODc1LDE1IEwwLjg3NSwxMSBaIiBpZD0ia29kaW5nLWxvZ28iIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")
      bg                    repeat, no-repeat
      bg                    size, contain
      bg                    position, center
      size                  19px, 19px
      margin                0
      display               block

  nav
    line-height         18px
    fr()

    a
      -webkit-font-smoothing  antialiased
      font-smoothing          antialiased

      font-size         16px
      margin-left       12px
      font-weight       500
      font-family       openSansFamily
      color             rgba(255,255,255,.83)
      padding-bottom    1px
      noTextDeco()

      &.active
        font-weight     600
        border-bottom   1px solid rgba(255,255,255,.83)

      &:last-child
        visibility      visible

      &.login
        padding         7px 13px
        rounded         4px
        white-space     nowrap
        margin-left     21px
        font-size       14px
        font-weight     600
        border          1px solid rgba(255, 255, 255, .5)


.header-notification
  size                100% 26px
  bg                  color rgba(24, 148, 83, .9)
  bg                  image url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAQAAAAngNWGAAAAT0lEQVQ4y43SOxIAIAxCQUruf+HYqBPNj6HdjgdjHLJpzCLMWYAV+2DNHtgxB3t24cQ2nJkRGjNCYyksThXZD5tERObhEJzIDhTyFRkhMi6JHdO5oh57CwAAAABJRU5ErkJggg==')
  bg                  repeat repeat
  bg                  scroll no-scroll
  vendor              transition, top .077s ease-in
  left                0
  top                 29px
  z-index             0
  color               white
  letter-spacing      .05em
  text-align          center
  line-height         26px
  font-size           12px
  borderBox()
  abs()
  &.in
    top               55px
  &.warn
    bg                color rgba(187, 159, 9, .9)
  &.err
    bg                color rgba(238, 100, 98, .9)
  &.fx
    vendor            animation, progress 60s linear infinite
  strong
    font-weight       600
  .cancel
    right             10px
    top               3px
    abs()
  a
    border-bottom     1px solid white
    color             white
    noTextDeco()
  .custom-link-view
    display           inline-block
    size              16px 16px
    vertical-align    top
    border-bottom     none
    margin            5px 0 0 5px
    span.close.icon
      display         block
      r-sprite        app '16_close_white'


#koding-logo
  size              57px 55px
  bg                color, logoBg
  z-index           11
  top               0
  left              0
  abs()

  &.staging
    bg              color #ff9200 // old koding orange

  &.sandbox
    bg              color #0099cc

  &.vagrant
    bg              color purple

  &.custom
    bg              color transparent
    bg              position, center center
    bg              repeat, no-repeat
    cite
      hidden()

  cite
    r-sprite        app 'nav_logo'
    margin          0 0 0 1px
    display         block


#kdmaincontainer.logout-tv
  vendor                  animation, logoutTv .5s 1 forwards ease
  abs                     0px 0 0 0px
  size                    100vw, 100vh

  &~.turn-off-line
    top                   50%
    left                  0
    size                  100%, 2px
    background            #fff
    opacity               0
    z-index               1000
    vendor                animation, logoutTvLine .3s .35s 1 forwards ease
    abs()
    &:after
      content             ""
      display             block
      margin              -3px auto 0
      size                50%, 6px
      background          #fff
      rounded             100%
      box-shadow          0 0 20px 10px rgba(255,255,255,.6)
  &~.turn-off-dot
    top                   50%
    left                  50%
    bg                    color, #fff
    rounded               20px
    size                  10px, 10px
    margin-top            -5px
    vendor                transform, scaleX(0) scaleY(0)
    shadow                0 0 8px #fff
    vendor                animation, logoutTvDot .3s .6s 1 forwards ease
    z-index               1000
    abs()

#kdmaincontainer.scale
    vendor            animation, shrink 1s ease-out
    vendor            animation-iteration-count, 1
    vendor            transform-style, preserve-3d
    vendor            transform, scale(0)


#kdmaincontainer > .pointer
  abs()
  bottom                380px
  left                  500px
  top                   auto
  display               block
  z-index               99999
  size                  20px, 20px
  border                3px solid white
  opacity               1
  bg                    color, #ff9200
  gradient              #FFAB23, #F27500
  vendor                transition, left 2s ease-in-out\,\
                                    top 2s ease-in-out\,\
                                    opacity .4s
  border-radius         50%
  shadow                0px 1px 3px 0px rgba(0,0,0,.2)
  &.clickPulse
    vendor              animation, clickAnimate 1s forwards ease-in-out
  &.out
    opacity             0

.kdnotification
  a
    color               inherit

@-webkit-keyframes clickAnimate
  0%
    -webkit-transform   scale(1)
    shadow              0 0 0 0 rgba(255,146,0,0)
  15%
    -webkit-transform   scale(0.6)
  25%
    -webkit-transform   scale(1)
  50%
    shadow              0 0 0 10px rgba(255,146,0,.8)
  100%
    shadow              0 0 0 25px rgba(255,146,0,0)

@-moz-keyframes clickAnimate
  0%
    -moz-transform      scale(1)
    shadow              0 0 0 0 rgba(255,146,0,0)
  15%
    -moz-transform      scale(0.6)
  25%
    -moz-transform      scale(1)
  50%
    shadow              0 0 0 10px rgba(255,146,0,.8)
  100%
    shadow              0 0 0 25px rgba(255,146,0,0)

// Intro animation for 'Show me how!' button

.cta_button
  vendor                animation, bounceIn .6s ease-in-out

@-webkit-keyframes bounceIn
  0%
    -webkit-transform   scale(0)
    opacity             0
  50%
    -webkit-transform   scale(1.1)
    opacity             1
  75%
    -webkit-transform   scale(0.9)
  100%
    -webkit-transform   scale(1)

@-moz-keyframes bounceIn
  0%
    -moz-transform      scale(0)
    opacity             0
  50%
    -moz-transform      scale(1.1)
    opacity             1
  75%
    -moz-transform      scale(0.9)
  100%
    -moz-transform      scale(1)


.nominate-modal

  z-index                       10001
  background                    white
  border-radius                 7px
  text-align                    center
  box-shadow                    0 0 20px

  a
    text-decoration             none

  .logo

    // background                  url("../../../../website/a/images/icon_rocket.png") no-repeat
    height                      160px
    top                         -20px
    left                        130px
    width                       160px
    abs()

  .header

    height                      100px
    background                  #504E4B
    border-top-right-radius     5px
    border-top-left-radius      5px
    margin-bottom               40px

  p

    padding                     20px 70px 10px 70px
    font-size                   15px

  div.button

    background                  #2E7FA1
    text-shadow                 none
    color                       white
    font-size                   20px
    padding                     10px
    width                       210px
    margin                      20px auto
    border-radius               4px
    cursor                      pointer

div.nominateicon
  width                         45px
  height                        55px
    // background                  url("../../../../website/a/images/icon_medal.png") no-repeat
  background-position           12px 0px
  background-color              #2B3335
  border-radius                 3px
  cursor                        pointer
  right                         285px
  z-index                       1
  top                           0
  abs()

.kdmodal.redeem-modal

  .formline
    overflow              visible
    padding               15px 0 0
    .input-wrapper
      overflow            visible
      margin-right        8px
      fr()
    label
      margin              0


.kdmodal.ws-settings

  background              #fafafa !important
  border-color            #fafafa !important

  .kdmodal-content
    overflow              visible
    margin                5px 16px !important

  .kdmodal-title
    hidden()

  .close-icon
    hidden()

  .modal-arrow
    left                  -21px !important
    border-right-color    #fafafa !important
    vendor                filter, drop-shadow(-5px 1px 4px rgba(0,0,0,0.35))

    &:before
      border-right-color  #fafafa !important

  &.activity-modal
    .kdmodal-inner
      margin              0
      padding             0
      overflow-y          auto

  .guides
    .input-wrapper
      margin-bottom       0
      width               100%
      .kdview
        font-size         14px
        padding           0 0 9px 2px

  a
    text-decoration       underline
    color                 #909090

  label.kdlabel

    font-size             12px
    line-height           20px
    margin                0
    font-weight           500
    padding-left          3px
    color                 #a3a3a3

  .kdbutton.solid
    font-weight           600
    &.red
      background          #d73c3c
    &.reinit
      background          #F69D03

  .button-container

    text-align            center

    button
      margin              10px 10px 10px 5px !important
      width               124px

  .delete-files

    label
      float           left
      margin-left     37px
      margin-bottom   7px

    .kdinput
      float           left
      margin-left     10px

  .kdtabview
    border-bottom         1px solid #e0e0e0

  .modal-arrow
    left                  -22px !important
    border-right-color    #242424 !important
    vendor                filter, drop-shadow(-5px 1px 4px rgba(0,0,0,0.35))
    &:before
      left                -5px

  .kdbutton.solid.red
    left                  50%
    width                 180px
    margin                12px 0 10px -90px
    font-weight           600
    background            #D43130

  &.activity-modal
    .kdmodal-inner
      margin              0

  &.guides
    label.kdlabel
      padding-top         0



body.account
  .input-validation
    margin-left         30px !important

  .input-validation div.wrapper
    background-color    rgba(217, 95, 95, .75)
    shadow              none
    font-size           14px
    font-weight         600
    text-align          center
    line-height         18px
    -webkit-font-smoothing antialiased

  .input-validation.placement-top:after
    border-top-color    rgba(217, 95, 95, .75)

  .kdoverlay
    background          rgba(255, 255, 255, .75)


paymentGreen       = #00b156

paymentGrayDarker   = #6f6f6f
paymentGrayDark     = #a7a7a7
paymentGraySoftDark = #d5d5d5
paymentGray         = #e5e5e5
paymentGrayLight    = #e8e8e8
paymentGrayLighter  = #f8f8f8

.kdmodal.help-support-modal

  bg                      color, #FCFCFC

  .kdmodal-inner
    margin                10px
    bg                    color, #FCFCFC

    a
      color               #0DA84C
      font-weight         700
      line-height         27px

    .kdmodal-title
      text-align          center

      span.title
        font-size         17px !important
        font-weight       bold
        color             #0DA84C
        padding-top       28px
        padding-bottom    11px

      span.subtitle
        color             #222
        margin-top        -5px


    .kdmodal-content
      font-size           14px !important;
      padding             16px 10px 0 !important;


  .kdscrollview.kdtabview
    float                 right
    width                 46%
    padding-left          18px
    border-left           1px solid #EEE

    label.kdlabel
      width               100%
      float               none !important
      font-weight         bold
      color               #666
      margin-top          0
      margin-bottom       4px

    textarea
      min-height          85px

    .input-wrapper
      margin-bottom       12px

    input.kdinput.text,
    textarea.kdinput.text
      font-size           12px
      border-radius       4px
      background          white
      font-weight         500
      width               274px

    .kdtabpaneview.main
      padding-left        2px

    .button-field
      height              40px !important

      button.kdbutton
        top               -13px
        right             13px
        width             68px
        height            33px
        background        #04A84C
        abs()

        span.button-title
          line-height     36px

  .container
    float                 left
    width                 45%
    padding               0 10px 10px 20px

    .topics-header
      color               #666
      font-weight         bold

    .koding-university
      line-height         27px
      margin-top          5px

  .onboarding-text
    bottom                20px
    abs()
    left                  28px
    width                 275px
    -webkit-border-radius 3px
    -moz-border-radius    3px
    border-radius         3px
    border                1px solid #0da84c
    height                65px
    box-sizing            border-box
    padding               8px 10px
    text-align            left
    font-size             12px

    a
      cursor              pointer
      text-decoration     underline
      line-height         18px

.kdmodal.welcome-modal
  overflow                hidden
  rounded                 3px

  .kdmodal-inner
    margin                0

  .kdmodal-content
    margin                0 !important
    max-height            100% !important

  .decoration-image
    size                  258px, 519px
    background            url("~images/welcome-decoration.jpg") no-repeat center center #45a66c
    fl()

  .content
    size                  508px, 519px
    padding               38px
    borderBox()
    fl()

    h1
      font-size           24px
      line-height         1em
      color               #27ae60
      font-weight         600
      border              none
      padding             0
      margin              0 0 4px
      height              auto

      span
        padding           0
        margin            0

    h2
      font-size           18px
      line-height         1em
      color               #848484
      font-weight         200
      border              none
      padding             0
      margin              0 0 26px
      height              auto

      span
        padding           0
        margin            0

    p
      display             block
      margin              0
      padding             35px 0 65px
      border-top          1px dashed #cccccc
      font-size           14px
      color               #4b4b4b
      line-height         27px

      span
        font-size         12px
        color             red

    .welcome-btn
      display             block
      size                100%, 55px
      margin-top          -1px
      border              1px solid #dcdcdc
      line-height         55px
      padding-left        25px
      font-size           14px
      color               #525252
      font-weight         400
      noTextDeco()
      borderBox()

      &:first-of-type
        rounded           3px 3px 0 0

      &:last-of-type
        rounded           0 0 3px 3px

      &:hover
        color             #27ae60
        border-color      #27ae60

        & + .welcome-btn
          border-top-color transparent

      &:after
        content           ''
        display           block
        r-sprite          'app', 'welcome_btn_chevron'
        margin            21px 24px 0 0
        fr()


.kdmodal.domain-assign-modal
  b
    font-weight           bold


// machine state modal
.kdoverlay.env-modal-overlay
  bg                    color, rgba(43, 43, 48, .75)
  opacity               1
  abs()


.kdmodal.env-modal
  .kdmodal-inner
    margin                  0

  .content-container
    text-align              center

  .kdbutton
    rounded                 4px !important
    bg                      color, #4EA04C !important
    height                  40px !important
    &:focus
      vendor                box-shadow, none !important

  .footer
    bg                      color, #f3f3f3
    font-size               14px
    color                   #5E5E5E
    padding                 25px 30px
    rounded                 0 0 3px 3px


.kdmodal.compute-error-modal
  overflow                  hidden !important

  .kdtabhandle
    max-width               250px !important

  .kdmodal-content
    margin-top              -10px !important
    height                  calc(100% \- 20px) !important
    overflow                visible !important

  .kdmodal-inner
    height                  calc(100% \- 55px) !important

  .kdtabpaneview
    height                  calc(100% \- 65px) !important

  .kdcustomscrollview
    styleScrollBars         rgba(0,0,0,.15)

    .kdscrolltrack.vertical
      right                 -15px

  .with-message
    .kdcustomscrollview
      height                calc(100% \- 100px) !important

  .error-content
    height                  100%
    vendor                  flex-direction, column
    dFlex()

    .content
      flex                  1 1 auto

  .message
    flex-shrink             0
    font-size               13px

.kdmodal.env-ide-error-modal
  left                      50% !important
  margin-left               -172px


.kdmodal.env-machine-state
  left                      50% !important
  margin-left               -91px
  border                    none

  &.has-readme
    margin-left             -141px
    width                   540px !important

    .stdout
      width                 498px

  &.team
    .stopping + .progressbar-container
      .bar
        background-color    #e94835

    &.full
      .bar
        margin-left         100%

  .kdmodal-content
    overflow                visible

  .kdbutton
   &.turn-on
     padding                0 20px 0 14px
     .icon
       r-sprite             'ide', 'turn_on'
       margin               12px 12px 0 0 !important
       padding              0


  .content-readme
    border-bottom           1px solid #eee
    styleScrollBars         rgba 0,0,0,.15

    &.has-vertical
      shadow                inset 0 -5px 15px -5px #eee

    .has-markdown
      padding               0 20px
      font-size             14px
      max-height            240px


  .content-container
    margin-bottom       30px

    .error-message
      padding               12px 0
      margin                22px 0 -30px 0
      background            #D95F5F
      color                 #FFF
      border-radius         0 0 2px 2px

      p, span
        font-size       12px
        line-height     17px
      span.close
      span.error-details
      span.contact-support
        text-decoration  underline
        cursor           pointer
      a
        text-decoration  underline
        color            white
      &.warning
        background      #999 !important

  .verify-message
    padding             5px 14px
    font-size           14px
    color               #5E5E5E
    cite
      text-decoration   underline
      color             #4EA04C
      cursor            pointer

  .verify-pin-input
    margin              10px 10px 20px
    width               390px

  .plan-change-button
    margin              10px 10px 0 !important
    width               calc(50% \- 30px) !important

    &.downgrade
      background-color  #d75b5b !important

  .expired-message
    padding             8px 25px
    font-size           14px
    color               #5E5E5E
    text-align          left

    h1
      font-size         20px
      font-weight       400
      margin-bottom     10px
      color             #4ea04c
      padding-bottom    10px
      font-family       adelleSans

    b
      font-weight       bold

    p
      margin-bottom     10px


  .state-label
    padding                 20px
    font-size               18px
    color                   #7D7D7D

    font-weight             400
    strong
      color                 #404040
    .icon
      display               inline-block
      r-sprite              'ide', 'vm_state_stopped'
      margin-right          11px
      vertical-align        middle
    &.starting
    &.building
      .icon
        r-sprite            'ide', 'vm_state_starting'
    &.running
      .icon
        r-sprite            'ide', 'vm_state_running'
    &.notfound
      h1
        margin-bottom       25px
      span
        font-size           16px
      a
        color               #1aaf5d
    &.stopped
      h1
        margin-bottom       25px
      p, ol
        font-size           16px
        margin-bottom       15px
      p:last-child
        margin-bottom       0
      ol
        margin-left         16px
        list-style          decimal inside
      a
        color               #1aaf5d
      a.managed-disconnect
        text-decoration     underline
        cursor              pointer

  .footer
    .upgrade-link
      color             #4EA04C
      display           block
    .info-link
      color             #A8A8A8
      font-size         12px
      text-decoration   none
      border-bottom     1px solid #A8A8A8
    .more-icon
      display           inline-block
      r-sprite          'ide', 'question_mark'
      margin-left       8px
      top               5px
      position          relative

  .stdout

    margin-top          2px
    left                20px
    size                400px, auto
    max-height          0

    color               #DDD
    padding             2px 6px
    background          #111
    font-size           14px
    font-family         'UbuntuMono', monospace

    box-shadow          0 3px 10px black
    border-radius       0 0 5px 5px

    overflow            hidden
    vendor              transition, max-height .2s ease-out

    borderBox()
    abs()

    &.in
      vendor            transition, max-height .2s ease-in
      max-height        200px


  .progressbar-container
    size                268px, 20px
    margin              14px auto
    border              none
    rounded             4px
    bg                  image, none
    bg                  color, #D8D8D8

    .bar
      bg                    image, none
      bg                    color, #5DC45A
      vendor                box-shadow, none
      rounded               4px
      vendor                transition, margin .3s ease

.managed-vm

  a
    noTextDeco()
    color             #333

  .kdlistview
    font-size         14px
    font-weight       bold
    margin-bottom     20px

    .kite-item
      display         flex
      display         -webkit-flex
      border-bottom   1px solid #ccc
      cursor          default

      &.header
        font-size     13px
        opacity       .6
        &:hover
          background  inherit !important

      &:hover
        background    #eee

      &.selected
        background    #ddd

      > div
        margin        auto
        width         100px
        padding       8px
        white-space   nowrap
        text-overflow ellipsis
        overflow      hidden

  &.find-nodes
  &.add-managedvm
    left            50% !important
    margin-left     -190px
    .kdmodal-title
      cursor        default

  &.modal

    .kdbutton.icon-only

      background    none
      border        none
      padding       9px // Added for sprites and retina screens issue ~GG
      margin        10px 0
      float         left

      &.retry
        r-sprite    'ide', 'refresh'

      &.inline
        display     inline-block
        float       none     !important
        margin      3px 10px !important


    .kdbutton
      float         right
      margin-left   10px

      &[disabled=disabled]
        opacity     .6

    .kdloader
      width         auto
      margin        3px 10px
      &.inline
        margin      10px 0 !important

    .title
      width         auto
      display       inline-block
      line-height   23px

    .kdview.view-waiting

      text-align    center
      padding       20px
      box-sizing    border-box
      min-height    70px

      .message
        display     inline

    .kdview.message

      &.inline
        font-size     14px
        float         left
        width         auto
        margin        8px

      &.warning
        font-size     13px
        background    #FEFFEF
        border        1px solid #ccc
        box-sizing    border-box
        padding       10px
        border-radius 4px
        line-height   15px



// machine settings modal styling
.machine-settings-modal

  .AppModal-content
    max-width               530px

  .AppModal-nav
    min-height              315px

  .kdtabview
    float                   left
    width                   510px

  .AppModal-form
    padding-top             0
    margin                  0

  .kdmodal-content
    height                  370px !important // override computed element style

  .listview-wrapper
    height                  auto


// machine settings modal general view
.machine-settings-modal

  .statustoggle .koding-on-off
    margin-top              11px

  a.assigned-url
    color                   #8B8B8B
    max-width               420px
    display                 inline-block
    ellipsis()

  .guide a
    color                   #434343

  .nickname

    .input-wrapper
      height                45px
      max-width             250px
      dIBlock()
      ellipsis()

    .edit
      font-size             12px
      color                 #52A840
      text-decoration       underline
      margin-right          3px
      pointer()

    .hitenterview
      height                34px
      background            #FFF
      margin-top            5px
      text-align            right

  .custom-link-view
    overflow                hidden
    text-overflow           ellipsis
    span.link-view
      font-size             13px
      color                 #52A840
      text-decoration       underline
      margin-right          3px
      pointer()


// machine settings modal sidebar icon
.machine-settings-modal

  .AppModal-navItem
    b
      left                  42px
      abs()


  .AppModal-navItem:before
    content                 ''
    display                 inline-block
    vertical-align          sub

  .AppModal-navItem.general
    &:before
      r-sprite              'app', 'ms_general'
      margin-bottom         2px

    &.active:before
      r-sprite              'app', 'ms_general_active'
      margin-bottom         2px

  .AppModal-navItem.advanced
    &:before
      r-sprite              'app', 'ms_advanced'

    &.active:before
      r-sprite              'app', 'ms_advanced_active'

  .AppModal-navItem.common-guides
    &:before
      r-sprite              'app', 'ms_guides'

    &.active:before
      r-sprite              'app', 'ms_guides_active'

  .AppModal-navItem.domains
    &:before
      r-sprite              'app', 'ms_domains'

    &.active:before
      r-sprite              'app', 'ms_domains_active'

  .AppModal-navItem.specs
    &:before
      r-sprite              'app', 'ms_specs'

    &.active:before
      r-sprite              'app', 'ms_specs_active'

  .AppModal-navItem.disk-usage
    &:before
      r-sprite              'app', 'ms_disk_usage'

    &.active:before
      r-sprite              'app', 'ms_disk_usage_active'

  .AppModal-navItem.vm-sharing
    &:before
      r-sprite              'app', 'ms_shared_vms'
      margin-bottom         2px

    &.active:before
      r-sprite              'app', 'ms_shared_vm_active'
      margin-bottom         2px

  .AppModal-navItem.snapshots
    &:before
      r-sprite              'app', 'ms_snapshots'

    &.active:before
      r-sprite              'app', 'ms_snapshots_active'


// machine settings modal common formline
.machine-settings-modal

  .formline
    line-height             45px
    size                    530px, 45px
    border-bottom           1px solid #efefef
    margin-bottom           0

    .kdlabel
      float                 left
      display               inline
      line-height           45px
      height                45px
      margin                0

    .input-wrapper
      float                 right
      color                 #8B8B8B


// machine settings modal specs and advanced view
.machine-settings-modal

  .icons
    overflow                hidden

  .big-icon
    float                   left
    margin                  28px 0 0 90px

    &.advanced
      width                 170px
      margin-top            40px

      figure
        size                82px, 82px
        margin-left         40px
        pointer()

      .label
        p
          font-size         16px
          color             #393939
          margin            21px 0 13px 0
          pointer()
        span
          font-size         12px
          color             #9E9E9E

      &.reinit, &.reassign
        margin-left         50px

      &.terminate
        margin-left         56px

      &.terminate-managed
        margin-left         152px
        width               200px

        figure
          margin-left       55px


    &:first-child
      margin-left           60px

    figure
      size                  70px, 70px
      rounded               70px

    .icon
      display               inline-block
      position              relative

    .label
      text-align            center

      p
        font-size           14px
        color               #B3B3B3
        margin              12px 0 5px 0

      span
        font-size           20px

  .ram
    figure
      bg                    color, #B3ECA3
    .icon
      r-sprite              'app', 'ms_specs_ram'
      top                   25px
      left                  18px

  .cores
    figure
      bg                    color, #6CE7E7
    .icon
      r-sprite              'app', 'ms_specs_cpu'
      top                   17px
      left                  17px

  .disk
    figure
      bg                    color, #FFE04F
    .icon
      r-sprite              'app', 'ms_specs_disk'
      top                   17px
      left                  22px

  .reinit, .reassign
    figure
      bg                    color, #F8BE1C
    .icon
      r-sprite              'app', 'ms_advanced_reinit'
      top                   20px
      left                  13px

  .terminate
    figure
      bg                    color, #FF6B5D
    .icon
      r-sprite              'app', 'ms_advanced_destroy'
      top                   21px
      left                  21px

  .need-more
    margin-top              38px
    text-align              center
    width                   530px

    // the "upgrade your vm now" button
    .kdbutton.more
      padding                 0 16px

    p
      margin-bottom         12px
      font-size             14px
      color                 #666651

  .reassign figure
    bg                      color, #B3ECA3


// machine settings modal disk usage
.machine-settings-modal

  .disk-usage.AppModal-content
    width                   530px

  .circular-progress-bar
    margin                  15px 0 20px 185px
    height                  190px

  .disk-usage-info
    overflow                hidden

  .percentage
    position                relative
    left                    -114px
    top                     -64px
    color                   #6C6C6C
    font-size               42px

  .usage-info
    width                   270px
    border                  1px solid #F0F0F0
    padding                 15px
    text-align              right
    margin                  0 0 20px 130px
    borderBox()

    p
      display               inline
      font-size             16px
      font-weight           400
      float                 left

    span
      display               inline

  .footline
    font-size               14px
    color                   #878787
    text-align              center

    a
      color                 #52A840


// machine settings modal common view
.machine-settings-modal

  .kdheaderview
    width                   510px
    height                  38px
    line-height             38px
    font-size               14px
    color                   #787878

  .hitenterview.kdinput
    rounded                 4px
    background              #FFF

  .add-button
    abs()
    top                     3px
    right                   0

  .add-view
    margin-top              12px
    position                relative

    input
      font-size             14px
      color                 #a2a2a2
      height                38px
      line-height           38px

    .hitenterview
      size                  175px, 38px
      line-height           38px
      bg                    image, none

    .buttons
      abs()
      top                   4px
      right                 0

      .add
        padding             0 16px

    .cancel
      font-size             12px
      color                 #787878
      position              relative
      text-decoration       underline
      top                   2px
      margin-left           8px
      pointer()

  .lazy-loader
    text-align              center
    margin-top              30px

  .kdlistitemview
    line-height             45px
    height                  45px
    border-top              1px solid #EFEFEF

    &:first-child
      border-top            none


// machine settings modal domain settings
.machine-settings-modal

  .kdbutton.add
    .kdloader
      height                15px

  .add-button
    .kdloader
      height                15px
      margin-left           -8px

  .domain-suffix
    font-size               14px
    color                   #A2A2A2
    margin-left             8px

  .hitenterview
    rounded                 4px
    bg                      color, #FFF

  .kdlistitemview-domain
    position                relative
    overflow                hidden

    .custom-link-view .title
      ellipsis()
      max-width             475px
      display               inline-block
      text-indent           5px

    &:hover
      .remove
        visible()

    &.in-progress
      .remove
        hidden()

      .kdloader
        abs()
        size                16px, 16px
        top                 15px
        right               50px

      .koding-on-off, .knob
        cursor              not-allowed

    a
      color                 #434343
      font-size             14px
      noTextDeco()

    .koding-on-off
      abs()
      top                   11px
      right                 0

    .remove
      r-sprite              'app', 'red_close'
      display               inline-block
      top                   14px
      right                 50px
      abs()
      pointer()
      hidden()


// machine settings modal vm sharing
.machine-settings-modal .vm-sharing

  .avatarview
    background              none
    size                    32px, 32px
    float                   left
    position                relative
    top                     6px

  .name
    float                   left
    margin-left             8px
    font-size               14px
    color                   #434343

  .no-item
    margin-top              30px
    color                   #a1a1a1
    text-align              center
    font-size               14px

  .remove
    r-sprite                'app', 'red_close'
    display                 inline-block
    top                     14px
    right                   15px
    display                 none
    abs()
    pointer()

  .add-view
    margin-bottom           10px

  .kdlistitemview

    &.in-progress
      .remove
        display             none !important

      .kdloader
        abs()
        right               0
        size                16px, 16px
        top                 15px

    &:hover
      .remove
        display             block

  .kdautocompletewrapper
    .kdinput
      bg                    color, #FFF

      &:focus
        border              1px solid #aaa !important // FFF
        vendor              box-shadow, none


.kdautocomplete.vm-sharing

  border                    1px solid #aaa
  border-top                none
  margin-top                -1px !important


.machine-settings-modal
  .AppModal-content
    &.vm-sharing
      overflow              hidden

      .add-view
        input
          line-height       20px

      .listview-wrapper
        height              calc(100% \- 40px)

      .kdcustomscrollview
        styleScrollBars     rgba(0,0,0,.15)

        .kdscrolltrack

          &.vertical
            right           0

          &.horizontal
            hidden()

.machine-settings-modal .snapshots
  .no-item
    margin-top              30px
    color                   #a1a1a1
    text-align              center
    font-size               14px

  .kdlistitemview-snapshot
    overflow                hidden

  .column
    display                 inline-block
    width                   120px
    margin                  0
    ellipsis()

  .column.created-at
    width                   140px

  .learn-more
    margin-top              30px
    color                   #52a840
    font-size               14px

    &:before
      display               inline-block
      margin-right          10px
      content               ''
      rel()
      top                   3px
      r-sprite              'ide', 'help'

  .learn-more a
    color                   inherit

.machine-settings-modal .snapshots .add-view
  height                    45px
  line-height               45px
  margin-top                0
  border-bottom             1px solid #efefef

  .buttons
    abs                     0px 0px 0 0

  .add
    margin-top              6px

  .cancel
    top                     -2px
    margin-right            8px


.machine-settings-modal .snapshots .snapshot .info
  font-size                 14px

  &:hover .buttons
    opacity                 1

  .buttons
    height                  16px
    abs                     12px 0px 0 0
    opacity                 0
    vendor                  transition, opacity .2s ease

  .kdbutton
    background              none
    margin                  0 0 0 11px
    padding                 0
    height                  16px
    border                  none
    outline                 none

  .kdbutton .icon
    display                 inline-block

  .delete .icon
    r-sprite                'app', 'ssh_delete'

  .rename .icon
    r-sprite                'app', 'ssh_edit'

  .new-vm .icon
    r-sprite                'app', 'ms_specs'

  .created-at
  .size
    color                   #8b8b8b


.machine-settings-modal .snapshots .snapshot .edit
  .buttons
    abs                     0px 0px 0 0

  .label
    color                   #a2a2a2
    font-size               14px
    size                    175px, 38px
    line-height             38px
    bg                      image, none

  .rename
    margin-top              6px
    padding                 0 16px

  .cancel
    font-size               12px
    color                   #787878
    position                relative
    text-decoration         underline
    top                     -2px
    margin-right            4px
    cursor                  pointer


.install-kd-modal
.ContentModal
.add-managed-vm

  .kdmodal-content
    overflow                hidden !important

  .bg
    margin-right            50px
    r-sprite                'app', 'managed_modal_bg'
    fl()

    .extra
      r-sprite              'app', 'managed_modal_bg2'
      position              relative
      top                   7px
      left                  56px

  &.error
  &.polling
    .extra
      hidden()

  &.polling
    .kdloader
      top                   80px
      left                  102px
      size                  26px, 26px
      abs()

  &.error
    .bg
      r-sprite              'app', 'managed_modal_error_bg'

    p
      &:first-child
        margin              38px 0 32px 0

  section
    fl()
    width                   360px

    a
      color                 #00b057

    p
      color                 #747474
      font-size             14px
      line-height           17px
      margin-bottom         10px

      &.middle
        margin-bottom       3px

    span
      font-size             12px
      line-height           15px
      color                 #747474
      display               inline-block
      bottom                0px
      abs()

      a
        display             block
        margin-top          5px

    strong
      font-weight           600
      display               inline-block
      margin-top            5px


  .code
    fl()
    margin-top              15px
    bg                      color, #F3F3F3
    border                  1px solid #DEDEDE
    rounded                 2px
    size                    350px 43px
    rel()
    borderBox()

    .kdinput
      border                none
      height                40px
      font-size             13px
      width                 289px

      &:hover
        border              none

      &:focus
        border              none
        vendor              shadow, none

    .select-all
      bg                    color, #00B057
      font-size             12px
      color                 #FFF
      size                  60px, 43px
      text-align            center
      line-height           43px
      right                 0
      bottom                -1px
      z-index               2
      rounded               0 2px 2px 0
      borderBox()
      pointer()
      abs()

    .kdloader
      margin                13px 0 0 165px


.install-kd-modal
  .has-markdown
    p
      padding               0px

    code
      padding               1px 4px


.kdmodal.delete-files-modal
  .kdmodal-content
    max-height              200px


// Admin modal specific styling
.AppModal--admin

  &.kdmodal .kdmodal-inner .kdmodal-content
    overflow                hidden

  // common tab styling
  .AppModal-content.kdtabview
    overflow                hidden

  .kdtabhandlecontainer
    background              none
    padding                 0
    height                  62px
    line-height             62px
    box-shadow              inset 0 -3px 0 #f2f2f2
    border                  none

    .kdtabhandle-tabs
      size                  auto, auto
      fl()

    .kdtabhandle
      padding               0 23px
      margin                0
      border                none
      line-height           inherit
      height                62px
      background            none
      color                 #969696
      opacity               0.99
      font-size             14px
      font-weight           600

      a
        display             inline-block
        ellipsis()
        font-weight         400
        width               100%
        color               #969696

      &.active
        box-shadow          inset 0 -3px 0 #01b05a
        color               #575757 !important
        bg                  color, transparent !important
        a
          color             #575757

.kdnotification.tray.disconnected
  pointer()

// workaround for scroll problem in test runner page
html.test-runner body
  overflow                  auto !important
