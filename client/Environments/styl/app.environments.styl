@import "../../Framework/src/themes/default/kdfn"
@import "../../Main/styl/appfn"

@css {
/*
Environments stylesheet
app.environments.styl
*/
}

section.resources-container
  size                 100% 105px
  bg                   color #ebebeb
  bottom               0
  z-index              1
  border-top           1px solid #c1c1c1
  shadow               0 -5px 21px rgba(0, 0, 0, .11)
  fix()

  header
    bg                 color headerBg
    size               180px 100%
    color              white
    padding            20px 25px
    borderBox()
    fl()

    h3
      font-size        18px
      line-height      1
    h4
      font-size        12px
      line-height      1
      color            #888
      margin           3px 0 13px

  > section
    overflow           hidden
    width              auto
    height             100%

    .subscription-gauges
      height           100%
      kalc             width, \(100% \- 180px\)\/2
      padding-top      22px
      padding-right    30px
      border-right     1px solid #c1c1c1
      fl()
      &:last-child
        border-right   none


      span.title
        top            5px
        font-size      12px
        color          #aaa
        text-transform uppercase
        margin-left    90px
        abs()

      .kdlistitemview
        margin          0 0 12px
        width           50%

        fl()
        &.kdlistitemview-group
        &.kdlistitemview-user
          hidden()
        &.kdlistitemview.vm-turn-on
          .bar
            bg          color #ea8779
        &.kdlistitemview.vm-usage
          .bar
            bg          color #73cb9b
        &.kdlistitemview.always-on
          .bar
            bg          color #f8cf81

      label
        text-transform  uppercase
        font-size       12px
        line-height     25px
        min-width       90px
        text-align      center
        color           headerBg
        font-weight     400
        margin-right    0
        fl()

      .progressbar-container
        height          25px
        kalc            width, 100% \- 90px
        border          none
        bg              color #d5d5d5
        bg              image none
        rounded         4px
        fl()
        .bar
          bg            image none
          bg            color #ea8779
          rounded       4px
          shadow        none


.vm-details-modal
  width                200px

  .item
    margin-bottom      5px

  .title
    font-weight        bold

  .value
    float              right

.environment-content
  overflow             auto

  h1.kdheaderview
    z-index               2

  h4.kdheaderview
    display               inline-block
    font-size             16px
    line-height           28px
    height                28px
    clear                 both

  p.success
    padding               20px
    line-height           22px
    bg                    color, #E3EEDA
    color                 #59824D
    rounded               4px
    max-width             400px
    margin-top            10px
    border                1px solid rgba(89, 130, 77, 0.18)
    fl()

    b
      font-size           22px
      line-height         42px
      font-weight         400
      color               #444
      rounded             4px

  ul.suggestion-box
    margin-left           6px
    li
      display             inline-block
      line-height         12px
      font-size           12px
      padding             6px 10px
      margin              10px 10px 0 0
      border              0
      rounded             4px
      vertical-align      middle
      color               white
      cursor              pointer
      bg                  color, #7ab100
      &.com
        bg                color, #4F87A7
      &.biz
        bg                color, #59824D
      &.org
        bg                color, #E99647
      &.net
        bg                color, #333333

  .kd-radio-holder
    label
      vertical-align  top
      cite
        color         #ccc
        font-size     11px
    span.icon
      cursor          pointer
      vertical-align  top
      margin          5px
      size            20px, 20px
      display         inline-block
      kdfsprite()
      bg              position, -40px -480px
    &.disabled span.icon
      bg              position, -40px -520px
    &.active span.icon
      bg              position, -40px -500px
    &.active.disabled span.icon
        bg            position, -40px -540px

  .header
    button.new-domain-button
      height           25px
      .icon
        bg              position, -120px -460px
        padding         0
        margin          -4px 0 0 -10px
      &.active
        gradient        #666, #999
        .button-title
          color         white
          text-shadow   0 1px 0 #111
        .icon
          bg            position, -60px -500px

  .environments-header
    bg                  color, #fff

  header
    size                936px, auto
    line-height         22px
    font-weight         100
    font-size           21px
    margin              0 auto

    > *
      margin            0 auto
      max-width         936px
      overflow          visible

    h1
      padding           30px 0
      font-size         36px
      font-weight       300
      padding-left      0

    .content
      padding           14px 0

      .video
        width           260px
        height          120px
        margin          45px auto
        border-radius   10px
        r-sprite        environments, "play"

  .top-warning
    border-top          1px solid #f2f2f2
    padding             14px 0 20px
    font-size           19px
    color               #999
    // font-weight         200

    a
      color             logoBg
      // font-weight       400
      noTextDeco()
      &:hover
        border-bottom   1px solid logoBg

    .content
      width             936px
      margin            0 auto
      font-weight       200

  .action-area
    z-index             0
    top                 0
    padding-top         55px
    borderBox()
    abs()
    &.in
      height            100%
    .kdtabpaneview
      padding-bottom    64px
      borderBox()

  .kddia-scene
    left                0
    border-radius       0

  .record-form-view
    padding             0
    section
      padding           10px
      background        #f7f7f7
      shadow            inset 0 2px 3px -2px rgba(0,0,0,0.3)
      rel()

      .input-container
        width           22%
        float           left
        vendor          transition, width .3s ease \,\
                                    padding .3s ease \,\
                                    opacity .3s ease
        borderBox()

        &~.input-container
          padding-left  5px

        &.priority
          margin        none
          padding-left  0
          width         0
          opacity       0

        &.record-type
          width         16%
          .kdselectbox
            display     block

        &.add-record
          width         18%
          button
            display     block
            size        100%, 26px
        input
          size          100%, 26px

    &.mx-selected
      .priority
        width           13% !important
        padding-left    5px !important
        opacity         1   !important
      .host,
      .value
        width           20%
      .ttl
        width           13%


  .split-layout
    .header
      border-left       none

  .split-section-list
    li
      padding           15px
    .selected
      bg                color, rgba(0, 0, 0, .05)

    .domain-item
      cursor           pointer
      width            100%
      overflow         hidden

      .domain-detail
        color          #888
        font-size      11px
        line-height    16px

      .domain-title
        font-weight    normal
        font-size      15px
        color          #ff9600
        line-height    30px

  .kdsplitview-panel.panel-1
    border-left       1px solid #ddd

.domain-detail-tabs

  .kdtabpaneview
    height                auto
    width                 auto
    padding               10px

    .common-inner-nav
      background          #f8f8f8
      margin              0px !important
      height              100%

    &.dns-manager
      padding             0

      header
        padding           10px
        line-height       26px
        display           block
        vertical-align    middle

    &.routing
      padding             0
      span.arrow
        kdfsprite()
        display           block
        size              30px, 25px
        margin-left       -25px
        z-index           1
        abs               null, null, null, 50%

      .no-item
        text-align        center
        color             rgba(255,255,255,.3)
        text-shadow       0 -1px rgba(0, 0, 0, .4)


      .drop-area
        size              100%, 200px
        gradient          rgba(0,0,0,.4), rgba(0,0,0,.2)
        shadow            inset 0 1px 1px rgba(0,0,0,0.2)
        span.arrow
          bg              position, -130px -28px
          top             0
          opacity         .8
        .no-item
          margin-top      15px
          color           #ccc
          text-shadow     0 -1px 0 rgba(0,0,0,0.3)

      cite.bg-text
        color           rgba(255,255,255,.6)
        text-shadow     0 -1px rgba(0, 0, 0, .2)
        font-size       32px
        line-height     40px
        height          40px
        width           100%
        z-index         0
        text-align      center
        font-style      normal
        display         block
        margin-top      -20px
        abs             50%

      header
        padding           10px
        line-height       26px
        display           block
        vertical-align    middle
        shadow            0 2px 3px -2px rgba(0,0,0,0.3)
        a
          color           linkColor1
          noTextDeco      yes

        .kdselectbox
          margin          -4px 5px 0
          span.title
            font-size     12px

      .listview-wrapper
        min-height        200px
        padding           10px
        bg                color, rgba(0, 0, 0, .1)
        borderBox()
        cite.bg-text
          color           rgba(255,255,255,.3)
          text-shadow     0 -1px rgba(0, 0, 0, .2)

  .kdtabpaneview
    p.soon
      font-size       22px
      padding-top     20%
      text-align      center
      color           #aaa

  .kdtabhandlecontainer .kdtabhandle
    &.active
      vendor          box-sizing, content-box
    &:first-child
      margin-left     10px
  .drop-area
    .kdlistitemview-domain-vm
      bg              color, rgba(81, 199, 64, 0.8)
      color           white
      text-shadow     0 -1px 0 rgba(0, 0, 0, .4)

  .kdlistitemview-domain-vm
    margin            0 5px 5px 0
    padding           5px
    display           inline-block
    kalc              width, 33.3%\-4px
    height            auto
    cursor            pointer
    color             #555
    vertical-align    top
    bg                color, rgba(248, 226, 68, 0.9)
    shadow            0 1px 1px rgba(0, 0, 0, .3)
    text-shadow       0 1px 0 rgba(255, 255, 255, .4)
    rounded           2px
    borderBox()
    // &:nth-child(3n)
    //   margin-right    0

    .vm-icon
      size           30px, 30px
      opacity        .5
      kdfsprite()
      bg             position, -360px -390px

    .vm-name
      font-weight    normal
      word-break     break-all
      line-height    20px
      vertical-align top
      padding        5px

    .kdloader
      display         block
      margin          0 auto


  .vm-list

    .vm-item
      cursor           pointer
      height           50px
      margin           1px

      .vm-icon
        top            10px
        left           7px
        width          30px
        height         30px
        abs()

      .shared
        kdfsprite()
        bg position,   -360px -300px

      .personal
        kdfsprite()
        bg position,   -360px -390px

      .vm-title
        font-weight    bold
        color          #ff9600
        top            10px
        left           50px
        abs()

      .vm-domain
        font-size      10px
        color          #888
        top            26px
        left           50px
        abs()

      .vm-status
        left           35px
        top            35px
        width          5px
        height         5px
        abs()

      .vm-status
        bg             color, #B40404
      .vm-status-on
        bg             color, #04B404

      .on-off
        top            15px
        right          3px
        abs()

  .vm-details
    padding            10px

  .input-container
    width           220px
    float           left

  .fw-al-sw
    height     400px

  .fw-li-view
    padding    5px
    height     25px
    color      #fff
    border            1px solid #ccc
    text-transform    uppercase
    color             #000

    .personal
      kdfsprite()
      bg position,   -360px -390px

  .fw-al-view, .fw-rl-view
    margin-top        5px
    border            1px solid #ccc
    text-transform    uppercase
    width             60%

    .deny
      background    red
      color         #fff

    .allow
      background    green
      color         #fff


  .block-list-view
    margin-top    10px

    h3
      line-height    25px

  .fw-li-buttons
    .button-title
      text-transform    uppercase
      font-size         10px

    .kdbutton
      background    #fceabb

    .delete-button
      background    #99001D

  .rule-form-view
    margin-top    5px

  .input-wrapper
    margin-right     5px

  .rule-list-view
    padding          5px
    float            left
    width            35%

  .filter-list-view
    background       #f8f8f8
    padding          5px
    float            left
    width            50%

    .filter-form-view
      margin-bottom  10px

  .kdlistview-env-list

    h3.records-title
      font-size           13px
      color               #ff9200
      font-weight         normal
      border-bottom       1px solid #e6e6e6
      border-top          1px solid #e6e6e6
      text-shadow         0 1px 0 #fff
      background          #fafafa

    .kdlistitemview
      border-bottom       1px solid #ededed
      color               #888

    h3.records-title,
    .kdlistitemview
      width               100%
      padding             0 10px !important
      vendor              transition, background .1s linear
      borderBox()

      &:nth-child(2n)
        background        #fcfcfc
        border-bottom     1px solid #ededed

      .record-element
        float             left
        letter-spacing    normal
        padding           5px 0
        line-height       25px
        borderBox()

        .kdselectbox
          width           100%
          borderBox()

        &~.record-element
          padding-left    5px
          width           22%
          input
            size          100%, 26px

        &.record-type
          width           16%

        &.record-ttl,
        &.record-priority
          width           12%

        &.record-buttons
          width           120px
          background      #fff
          text-align      center
          top             0
          right           -120px
          padding         5px
          opacity         0
          border-left     1px dotted #ccc
          flex()
          vendor          transition, right .3s ease \,\
                                      opacity .3s ease
          abs()
          button
            display       block
            float         none
            width         100%
            size          100%, 26px

            &:nth-child(2n)
              margin-left 5px
      &:hover
        background        #f4f4f4
        .record-buttons
          opacity           1
          right             5px

    h3.records-title
      .record-element
        padding-top            10px !important
        &.record-buttons
          vendor               justify-content, center

    th, td
      vertical-align   top

    th
      background       #ff9600
      background       linear-gradient(#CC6300, #ff9600)
      border-left      1px solid rgba(0, 0, 0, 0.2)
      border-right     1px solid rgba(255, 255, 255, 0.1)
      color            #fff
      font-size        11px
      padding          9px 8px 7px 8px
      text-shadow      0 -1px 0 rgba(0, 0, 0, 0.6)

    tbody td
      border-bottom    1px solid #c6c9cc
      border-left      1px solid #e4e7eb
      border-right     1px solid rgba(255, 255, 255, 0.6)
      box-shadow       inset 0 1px 0 rgba(255, 255, 255, 0.6)
      padding          10px

    .slide-icon
      kdfsprite()
      bg position,     -121px -559px
      display          block
      abs()

    .filter-item
      height           45px
      cursor           pointer
      text-transform   uppercase

    td.filter-name
      width            40%

    td.filter-match
      width            40%

    td.action
      width            1%

    td.actions
      width            20%

      .on-off
        display        block

      .on-off a
        padding        7px 10px 6px

    tbody td.item, tbody tr:nth-child(even) td.item
      border-left      1px solid #c6c9cc

    .allow-icon
      width          10px
      height         10px
      margin-left    10px
      kdfsprite()
      bg position,   -25px -145px
      rel()
      top            6px
      left           -5px

    .deny-icon
      width          10px
      height         10px
      margin-left    10px
      kdfsprite()
      bg position,   -25px -125px
      rel()
      top            6px
      left           -5px



    .filter-icon
      width          40px
      height         40px
      margin-right   10px
      kdfsprite()
      bg position,   -780px -521px

    .filter-name
      font-weight    bold
      margin-left    10px
      margin-bottom  3px
      font-size      12px
      color          #ff9600


/*--- Add a domain -----*/
.kdmodal.domain-creation
  .kdmodal-title
    hidden()

  .kdmodal-buttons
    border-top      none

  form .status-message
    margin-bottom   0

  .status-message
    margin-bottom   20px
    padding         10px
    bg              color rgba(244, 204, 0, 0.5)
    line-height     1.7
    font-size       14px
    &.err
      bg            color #FF7379
      strong
        color       #444
    &.success
      bg            color, #E3EEDA
      strong
        color       #59824D

    strong
      font-weight   400
      font-family   monoFamily
      font-size     13px
    &:first-child
      strong
        background  rgba(0,0,0,0.1)
        padding     2px

  .kdtabhandlecontainer
    padding         0
    border-bottom   none
    bg              color white
    height          40px
    margin-bottom   30px
    .kdtabhandle
      height        40px
      line-height   40px
      padding       0 30px 0 2px
      border        none
      color         #444
      font-size     24px
      b
        font-weight 200
      &.active
        height      40px
        color       logoBg
        // border      none


.environments-add-domain-form

  input.kdinput
    background      #fff !important

    &.text
      font-weight   500

  .suffix-domain
    top     13px
    right   10px
    z-index 1
    width   auto
    color   #999
    abs()

  label
    font-size       14px
    color           #969696
    font-weight     500

  .kdselectbox.main-domain-select
    abs             5px 5px 0 0
    width           130px
    overflow        visible
    span.title
      line-height   32px !important
      max-width     100px
      text-overflow ellipsis



/*--- Scene -----*/

div.environments-scene

  // bg                    image, url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAO0lEQVQYV2NkIA4YMxKhzhio5iwhhWBFIMPwKYQrwqcQRREuhRiKsCnEqghdIU5FyArxKoIpJKgIpBAAuKUJPnltMzUAAAAASUVORK5CYII=")
  bg                    image, url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAQElEQVQYV2NkIALk5eUZMxJSB1I0adKks3gVwhSBDMOpEFkRToXoirAqxKYIQyEuRSgK8SmCKySkCKyQGEUghQAU3yWIL9S7NgAAAABJRU5ErkJggg==")
  background-color      transparent

  width                 964px
  margin                0 auto
  kalc                  height, 100% \- 49px

  canvas
    left                -6px
    top                 -2px

    // .zoom-slider
    //   right               50px
    //   bottom              0
    //   height              2px
    //   abs()

    //   .handle
    //     height            10px
    //     top               -4px

    // .zoom-controls
    //   size                177px, 13px
    //   right               24px
    //   bottom              15px
    //   abs()

    //   a.zoom-control
    //     display           block
    //     size              15px, 15px
    //     line-height       9px
    //     font-weight       bold
    //     color             #ddd
    //     font-size         14px
    //     text-align        center
    //     border            2px solid #ddd
    //     text-decoration   none
    //     rounded           100%
    //     borderBox()
    //     fl()

    //     &.zoomin
    //       line-height     11px
    //       fr()

    //     &:hover
    //       border-color    #bbb
    //       color           #bbb

    // .reset-view
    //   opacity             .6
    //   border              none
    //   background          white
    //   left                10px
    //   bottom              10px
    //   font-size           11px
    //   color               #666
    //   z-index             6
    //   abs()

    //   &:hover
    //     opacity           1

    span.icon
      kdfsprite()
      background-position -120px -580px
      size              12px, 12px
      position          relative
    span.button-title
      line-height       19px

div.environment-stack

  height                48px
  border                1px solid #BBB
  bg                    color #E9E9E9
  width                 583px
  margin                30px auto
  border-radius         3px
  vendor                transition, height .2s ease
  overflow              hidden

  .stack-title
    height              auto
    padding             10px 12px
    font-weight         300
    font-size           22px
    border-bottom       1px solid #e2e2e2
    borderBox()

  .stack-button
    top                 0
    right               10px
    height              43px
    padding             0 10px
    abs()

  .stack-toggle
    &.on .icon.toggle
      r-sprite          'environments' '20-arrow-down'
    .icon.toggle
      r-sprite          'environments' '20-arrow-up'

  .stack-context
    right               50px
    .icon.cog
      r-sprite          'app' '20-cog-gray'
    .chevron-separator
    .chevron
      hidden()

  .stack-editor
    right               90px
    .icon.editor
      r-sprite          "environments", "codesnippet"

  &.hilite
    bg                  color, rgba(254, 255, 217, .6)
    vendor              transition, background-color .6s ease
  &.hilited
    bg                  color, #e9e9e9

div.environments-container

  width           230px
  height          100%
  overflow-y      hidden
  margin-top      10px
  padding         10px
  noTextSelection()
  borderBox()

  &.machines
    width         300px

  &::-webkit-scrollbar
    width         0

  &.firewall
    .kdheaderview
      background          #4E89D3

  &.domains
    .kdheaderview
      background          #4ED393

  &.machines
    .kdheaderview
      background          #EBA612

  &.extras
    .kdheaderview
      background          #FF676E

  .kdheaderview
    border        none
    font-weight   200
    color         white
    border-radius 2px
    height        33px
    font-size     18px

  .add-button
    width                     100%
    height                    30px
    border                    1px solid #e6e6e6
    border-radius             3px
    background                #EEE
    color                     #999
    font-weight               bold
    font-size                 16px
    padding-bottom            7px

    &:hover
      background              white

@-webkit-keyframes popHighlight
  0%
    -webkit-transform   scale(1)
  33%
    -webkit-transform   scale(1.02)
  66%
    -webkit-transform   scale(.998)
  100%
    -webkit-transform   scale(1)

@-moz-keyframes popHighlight
  0%
    -moz-transform      scale(1)
  33%
    -moz-transform      scale(1.02)
  66%
    -moz-transform      scale(.998)
  100%
    -moz-transform      scale(1)

@-webkit-keyframes animate-stripes {
    from {
        background-position: 0 0;
    }
    to {
       background-position: -50px 0;
    }
}

div.environments-item

  padding         8px

  cursor          default
  width           210px
  height          34px
  background      white
  rounded         3px

  noTextSelection()
  borderBox()

  span.url
  span.state
  span.toggle
  span.terminal
    font-size   10px
    color       #aaa
    abs()

  &:hover
    .init-machine-view
      display   block

  .init-machine-view
    top         0
    left        0
    padding     10px
    box-sizing  border-box

    color       white

    font-size   12px
    line-height 14px

    display     none
    abs()

    &.hidden-all
      display   none !important

    button
      bottom    10px
      right     10px
      abs()

  // FIXME refactor with styl
  &.busy
    background-image -webkit-gradient(linear, 0 0, 100% 100%,
        color-stop(.25, rgba(0, 0, 0, .03)),
        color-stop(.25, transparent),
        color-stop(.5, transparent),
        color-stop(.5, rgba(0, 0, 0, .03)),
        color-stop(.75, rgba(0, 0, 0, .03)),
        color-stop(.75, transparent),
        to(transparent))

    background-image
        -moz-linear-gradient(-45deg,
            rgba(0, 0, 0, .03) 25%,
            transparent 25%,
            transparent 50%, rgba(0, 0, 0, .03) 50%,
            rgba(0, 0, 0, .03) 75%,
            transparent 75%, transparent
        )
    background-size           50px 50px
    -moz-background-size      50px 50px
    -webkit-background-size   50px 50px
    -webkit-animation         animate-stripes 2s linear infinite

  .koding-on-off
    display     none
    right       5px
    top         35px
    abs()

  span.chevron
  span.terminal
    size          14px, 14px
    bottom        8px
    right         10px
    r-sprite      environments 'gear'
    abs()

  span.terminal
    display       none
    r-sprite      environments 'terminal'
    cursor        pointer
    right         45px
    bottom        7px !important
    &.terminal-only
      right       10px

  span.state
    left          14px

  span.url
    display       none
    size          auto, 14px
    text-align    right
    right         5px
    top           5px

  .status-indicator

    size          8px, 8px
    background    #ff9600
    border        1px solid #ff9600
    top           50%
    right         9px
    margin-top    -4px
    rounded       100%
    cursor        pointer
    vendor        transition, background .3s ease
    borderBox()
    abs()

  &.passivated
    opacity       0.5
    .status-indicator
      background  none

  span.toggle
    size          6px, 100%
    background    #eee
    border-radius 2px 0 0 2px
    top           0
    left          0

  h3
    font-size     13px
    font-weight   200
    color         #333
    width         170px
    line-height   17px
    overflow      hidden
    white-space   nowrap
    text-overflow ellipsis
    padding-left  6px
    cite
      font-size   11px
      line-height 11px
      font-style  italic
      color       #AAA
      margin-left 3px
      display     none

  &.rule
    span.toggle
      background      #4E89D3

  &.domain

    opacity           .6

    button
      display         none
      top             6px
      right           6px
      abs()

    &.verified
      opacity         1

    &:hover
      opacity         1
      button
        display       block

    span.toggle
      background      #4ED393

  &.extras
    span.chevron
      display         none
    span.toggle
      background      #FF676E

  &.machine

    width             calc(100% \- 2px)
    height            100%
    min-height        58px

    &:hover
      h3
        cite
          display   inline

    // height            50px

    &.loading

      div.progressbar-container
        display     block !important

      span.terminal
      .koding-on-off
        display     none !important

    &.building

      div.progressbar-container
        .bar
          background    #FF7400 !important

    &.terminating

      div.progressbar-container
        .bar
          background    #E85F5F !important

    &.terminated
    &.notinitialized

      span.state
        color       #E85F5F

    &.stopping

      span.url
        display     block

      div.progressbar-container
        .bar
          background    #E59611 !important

    &.stopped

      .koding-on-off
        display     block

      span.state
        color       #E59611

    &.starting

      div.progressbar-container
        .bar
          background    #5AA486 !important

    &.running

      span.url
      span.terminal
      .koding-on-off
        display     block

      span.state
        color       #5AA486

    span.chevron
    span.terminal
      bottom          10px

    span.chevron
      r-sprite        environments 'gear'

    span.toggle
      background      #EBA612

    div.progressbar-container
      display         none
      top             42px
      left            14px
      height          8px
      width           calc(100% \- 20px)
      border-radius   0
      abs()

      .bar
        background    #ccc
        border        none
        box-shadow    none
        border-radius 0

      span.light-label
        display       none

      span.dark-label
        margin-top    2px

      &:last-of-type
        left          14px

    .toggle-menu
      width           70px
      position        relative
      left            113px
      bottom          18px
      height          10px

div.kdlistview

  .environments-item.machine

    margin-top      5px
    border          1px solid #eee

  .selected
    .environments-item.machine
      border-color  #bbb

div.kddia-object

  &.environments-item.machine

    width           280px
    height          60px

    padding         0
    border          1px solid #fff
    rounded         4px

    borderBox()

    &.highlight
      border        1px solid #aaa
      rounded       4px

    &:hover
      border-color  #ccc
      .environments-joint
        opacity     1


div.environments-joint

  size              4px, 4px
  background-color  #ccc
  border            none
  opacity           0

  &.deleteMode
    size             14px,14px
    opacity          1
    z-index          2
    border           1px solid white
    borderBox()
    kdfsprite()
    bg               position,-84px -544px
    background-color rgba(169, 39, 84, 1.0)

  &.right
    right           -2px
    margin-top      -2px
    &.deleteMode
      margin-top    -7px
      right         -7px

  &.left
    left            -3px
    margin-top      -2px
    &.deleteMode
      left          -8px
      margin-top    -7px

.environments-cs-container
  width              182px
  padding            5px 3px 8px 3px
  height             15px

  .environments-cs-color
    size             17px, 17px
    float            left
    margin-left      5px
    background       #ccc
    cursor           pointer
    border           3px solid rgba(255, 255, 255, 0)
    vendor           transition, border-color .3s ease
    borderBox()
    &:hover
      border-color   rgba(255, 255, 255, .5)
    &.selected,
    &.selected:hover
      border-color   rgba(0, 0, 0, .3)

.kdmodal.environments-confirm-destroy
  .kdmodal-content
    div
      padding          20px


// context menu
.jcontextmenu.environments

  .kdlistview-contextmenu.default
    border          1px solid #CFCFCF

  .kdlistitemview-contextitem.default.selected
  .kdlistitemview-contextitem.default.has-sub-items.expanded
    bg              color #ECECEC
    color           #222
    text-shadow     none

// recipe modal
.kdmodal.recipe

  pre
    color                    #222
    font-size                12px

.kdmodal.create-stack
  label
    width                     110px

.kdmodal.clone-stack-modal
  &.loading
    text-align                center
    .kdloader
      margin-bottom           20px
  .subscription-notice
    color                     #999
    margin-bottom             15px
  &.domain-names
    .kdtabhandlecontainer
      display                 none
    .label
      margin-bottom           20px
    .input-wrapper
      border                  1px solid #d7d7d7
      border-radius           6px
      padding-bottom          4px
    .environments-add-domain-form
      position                relative
      kdselectbox
        overflow              hidden
    .kdinput.text
      margin-left             270px
      size                    218px, 34px
      min-width               218px
      margin-top              4px
      font-size               14px
    .old-name
      color                   #606060
      overflow                hidden
      text-overflow           ellipsis
      width                   230px
      display                 inline-block
      position                absolute
      top                     0px
      left                    10px
      line-height             44px
      font-size               14px
    .icon
      r-sprite                "app", "login-right-arrow"
      display                 inline-block
      top                     12px
      left                    245px
      opacity                 .33
      abs()
  .buttons-container
    text-align                right
    button:last-child
      margin-left             10px


.kdbutton.create-stack
  abs()
  top                         19px
  right                       0
  text-transform              uppercase

.danger-modal
  strong
    font-weight               400
  .modalformline
    border-bottom             none !important
    margin-bottom             30px

.stack-progress
  h4
    font-weight               400
    margin                    15px 0 10px
    border-bottom             1px solid #EEE
  .item
    line-height               26px
    height                    26px
    font-weight               300
    position                  relative
    .kdloader
      abs()
      right                   0
      top                     5px
  .success
    abs()
    r-sprite                  "environments", "check"
    right                     0
    top                       8px
  .error
    abs()
    r-sprite                  "environments", "warning"
    right                     0
    top                       8px


.firewall-modal
  .close-icon
    display                   none
  .kdmodal-inner
    margin                    0
  .kdmodal-content
    margin                    0 !important
    position                  relative
  .section-label
    font-size                 16px
    color                     #209656
    font-weight               400
  .input-wrapper
    margin                    0 !important
  .kdselectbox
    width                     137px
    height                    35px !important
    overflow                  visible
    .title
      line-height             36px !important
      color                   #515151 !important
      font-weight             500 !important
      text-transform          uppercase
    .arrows
      top                     11px
  input[type=text]
    width                     484px
    height                    37px
    font-size                 14px
  .isenabled
    .kdlabel
      margin                  7px 11px 0 -17px
    .koding-on-off
      margin-top              4px
  .formline.half
    fl()
    &.name
      margin                  0 30px 30px 30px
  .kdformview .formline > label
    width                     55px
    min-width                 55px
    margin-top                7px
  .section-label.formline
    clear                     both
    &.first
      margin                  30px
    &.second
      border-top              1px solid #E2E2E2
      p
        margin                30px 0 20px 30px
  .headers
    .header-row
      margin                  0 30px
      h4
        color                 #919191
        border-bottom         1px solid #EEEEEE
        margin                0 1px 20px 1px
        line-height           20px
        text-transform        uppercase
        font-size             13px
        fl()
      .type
        width                 116px
      .value
        width                 262px
      .filter
        width                 171px
      .button
        width                 65px
  .container
    .kdlabel
      display                 none
    .kdformview.with-fields
      overflow                hidden
      margin                  0 0 10px 30px
    .type.half
      margin-right            15px
    .kdselectbox
      width                   100px
      &.action
        width                 160px
      &.countries
        width                 248px
        margin-right          15px
    input[type=text]
      width                   250px
      margin-right            15px
    .enabled.half
      margin                  4px 0 0 15px
  .add-rule
    width                     675px !important
    margin                    0 30px !important
    height                    35px !important
    border                    1px dashed #D3D3D3
    bg                        color, transparent !important
    &:focus
      vendor                  box-shadow, none !important
    span
      color                   #888 !important
      font-size               16px
      text-transform          uppercase
      font-size               14px
      &.button-title
        position              relative
        top                   2px
      &.plus
        r-sprite              "environments", "add"
        display               block
        padding               0
        position              relative
        left                  248px
        top                   -1px
  .kdbutton
    margin-bottom             30px !important
    height                    37px !important
    &.compact
      rounded                 8px
      span.button-title
        font-size             14px
        text-transform        uppercase
      &.green
        margin-right          30px
        padding               0 30px !important
      &.gray
        padding               0 19px !important
        background            transparent
        border                2px solid #A8A8A8
        span.button-title
          color               #818181
  .input-wrapper
    .delete-button
      rounded                 20px
      margin                  4px 0 0 12px
      bg                      color, #E1E1E1 !important
      r-sprite                "environments", "delete"
      pointer()
      &:hover
        bg                    color, #F06668 !important
  .undeletable
    .input-wrapper
      .delete-button
        opacity               .5
        cursor                not-allowed
        &:hover
          bg                  color, #E1E1E1 !important
  .kdnotification.error
    abs()
    top                       149px !important

  .beta
    height                    26px
    font-size                 12px
    top                       72px
    margin-left               30px
    color                     #919191
    abs()
    .icon
      r-sprite                'environments', 'disclaimer'
      display                 inline-block
      position                relative
      top                     5px
      margin-right            3px
      opacity                 .5

.env-deletion-modal
  b
    font-weight               400

.environments-item.rule.disabled
  bg                          color, rgba(255, 255, 255, .6) !important
