// Source: https://gist.github.com/stravid/5772314
// Date: Jan 7, 2014
(function(){var t,r=function(t,r){return function(){return t.apply(r,arguments)}};t=function(){function t(t){this.tick=r(this.tick,this),this.markers=t.markers.sort(this.compareMarkers),this.event=t.event,this.attribute=t.attribute,this.intervalID=setInterval(this.tick,500)}return t.prototype.tick=function(){var t,r;for(t=$(window).scrollTop();this.markers.length>0&&t>=this.markers[0].position;)r={},r[this.attribute]=this.markers[0].value,mixpanel.track(this.event,r),this.markers.shift();return this.lastMarkerIsReached()?this.stopTracking():void 0},t.prototype.compareMarkers=function(t,r){var i;return null!=(i=t.position>=r.position)?i:-{1:1}},t.prototype.lastMarkerIsReached=function(){return 0===this.markers.length},t.prototype.stopTracking=function(){return clearInterval(this.intervalID)},t}(),window.MixpanelScrollTracker=t}).call(this);
