@css {
/*
Stack Editor stylesheet
stackeditor.styl
*/
}

$accentColor                = #F2778A
$titleColor                 = #424242
$subtleColor                = #A59999
$borderColor                = #E3E3E3

//
// NEW STACK EDITOR APP STYLES
//

.StackEditorView
  bg                        color #FFF
  min-width                 720px
  borderBox()

  .kdtabpaneview
    bg                      color, #FFF
    border-top              none
    borderBox()

    > div.kdview
      padding               0
      overflow              hidden
      borderBox()
      &.readonly
      &.view-info
        opacity             0.5 !important
        padding-top         57px !important

  .kdtabpaneview.credentials
    .credential-list
      margin-top            20px

  .kdtabhandlecontainer
    bg                      color #FFFFFF
    border                  none
    size                    100% 40px
    padding                 0
    borderBox()
    rel()

    .kdtabhandle-tabs
      margin                0
      padding               0
      size                  auto auto
      display               flex
      rel()

    .kdtabhandle
      flex                  0 0 auto
      height                16px
      line-height           1
      bg                    color transparent
      border                none
      color                 #5E5E5E
      padding               13px 0 9px
      contentBox()

      b
        border-right        1px solid #CACACA
        padding             0 20px
        font-weight         400
        font-size           15px
        letter-spacing      .5px
        width               auto
        vendor              transition, padding .177s ease

      &.active
        b
        .kdinput.text.template-title.autogrow
          color               $accentColor

      &:last-of-type b
        border-right        none

      &.notification b
        padding-right       40px
        padding-left        20px

      &.stack-template
        flex                1 0 auto
        b
          hidden()

  .stack-template-action-wrapper
    abs   0 0px 10px 0


  .stack-template-action-wrapper
  .readme-action-wrapper
    button.kdbutton
      margin-right          20px
      border                0px
      background            #fff
      cursor                pointer
      z-index               10
      &:active
      &:focus
        border              none
        box-shadow          none

  .readme-action-wrapper
    display                 flex
    width                   100%
    abs()
    bottom                  10px
    button.preview
      margin-right          20px
    .upload-file-button
      flex                  1 0 auto
      text-align            left
      color                 #848484
      font-size             12px
      letter-spacing        0.5px
      margin-left           25px
      span
        color               #3f9cbe


  .indicator
    size                  18px, 18px
    color                 white
    bg                    color, #F76E6E
    text-align            center
    font-size             11px
    line-height           18px
    font-weight           200
    rounded               18px
    vendor                transition, top .2s ease
    abs                   76px 13px 0 0

    &.in
      top                 11px

    &.red
      bg                  color, darkred

.StackEditorTabs > .kdtabpaneview
  height                    calc(100% - 80px)
  .editor-pane.editor-view
    height                  calc(100% \- 44px)

.StackEditor-SearchWrapper
  overflow                  hidden
  .stack-script-search-link
    abs                     15px 38px
    transition              transform .2s ease\,
                            opacity .1s ease
    opacity                 0
    z-index                 2
    transform               translateX(300px)

  input.kdinput.searchStackInput
    margin                  5px 20px
    left                    0px
    bg                      color, #FFF
    font-size               14px
    font-weight             400
    padding-left            20px
    width                   250px
    padding                 5px 14px
    transition              width .2s ease\,
                            box-shadow .2s .2s ease\,
                            border-color .2s .2s ease
    &.active
    &:focus
      width                 calc(100% \- 40px)
    &.active ~ .stack-script-search-link
    &:focus ~ .stack-script-search-link
      font-size             16px
      opacity               1
      z-index               2
      transform             translateX(0px)
      &.shift
        transform           translateX(-30px)

  .close-icon
  .loading-icon
    z-index                 1
    top                     15px
    right                   38px

  .loading-icon
    width                   18px
    height                  18px
    background              url("/a/images/loader.svg") 0 0
    bg                      size cover
    position                absolute
    top                     13px

  .close-icon
    r-sprite                app content_modal_close_icon
    &:hover
      background-position   initial

  .stack-script-search-scroll
    width                   calc(100% \- 42px)
    min-height              53px
    max-height              calc(100% \- 145px)
    height                  initial !important
    border                  1px solid #DDD
    border-radius           4px
    position                absolute !important
    top                     40px
    left                    20px
    bg                      color #FFF
    z-index                 100
    overflow                hidden

    .item-wrapper
      cursor                pointer
      font-size             14px
      padding               10px 20px
      font-weight           400
      line-height           15px
      color                 #5e5e5e
      border-bottom         1px solid #ddd
      .item
        max-width           650px
      .title
        margin-bottom       4px
      .description
        color               #989898
        line-height         14px
        font-weight         200
        font-size           13px
        max-width           650px
        ellipsis()

      .close-icon
      .loading-icon
        z-index             1
        top                 36px
        right               42px

      .loading-icon
        width               30px
        height              30px
        background          url("/a/images/loader.svg") 0 0
        position            absolute
        top                 27px

      .close-icon
        r-sprite            app content_modal_close_icon
        &:hover
          background-position initial

      .stack-script-search-scroll
        width               calc(100% \- 62px)
        min-height          53px
        max-height          calc(100% \- 145px)
        height              initial !important
        border              1px solid #DDD
        border-radius       4px
        position            absolute !important
        top                 64px
        left                30px
        bg                  color #FFF
        z-index             100
        overflow            hidden

        .item-wrapper
          cursor            pointer
          font-size         14px
          padding           10px 20px
          font-weight       400
          line-height       15px
          color             #5e5e5e
          border-bottom     1px solid #ddd
          .item
            max-width       650px
          .title
            margin-bottom   4px
          .description
            color           #989898
            line-height     14px
            font-weight     200
            font-size       13px
            max-width       650px
            ellipsis()

      .editor-pane.editor-view
        height              calc(100% \- 50px)

.StackEditorTabs.readonly
  .warning-view
    height                  30px
    color                   #989898
    font-size               14px
    line-height             17px
    font-weight             400
    padding-top             12px
    padding-left            30px
    bg                      color #FEF2F4
    border                  1px solid #DDD
    border-width            0 1px
    left                    0
    right                   0
    z-index                 1
    abs()
    span.clone-button
      text-decoration       none
      color                 #769ecc !important
      pointer               cursor

.StackEditorTabs.view-info
  > .kdtabpaneview
    &.readme
    &.custom-variables
      > .kdview
        margin-top          30px
    &.stack-template
      .editor-pane.editor-view
        top                 37px

  .info-view
    bg                      color #FEF2F4
    height                  30px
    color                   #989898
    font-weight             400
    padding-top             12px
    padding-left            30px
    border                  1px solid #DDD
    border-width            0 1px
    z-index                 1
    font-size               14px
    line-height             17px
    abs                     30px 0px 0 0px

    &.template
      top                   79px

    &.saveTemplate
      bg                    color #F6FCF9

    .save
    .update
      color                 #769ecc !important
      cursor                pointer

    span.clone-button
      text-decoration       none
      color                 #769ecc !important
      pointer               cursor


    div.close-update-view
      rel()
      display               inline-block
      cursor                pointer
      float                 right
      top                   -1px
      right                 24px
      r-sprite              stack-editor dontwarnmeagain
      bg                    color transparent
      box-sizing            border-box

    div.close-update-view span.tooltiptext

      visibility            hidden
      font-size             13px
      font-weight           300
      color                 #FFF
      text-align            center
      border-radius         4px
      padding               10px 10px
      width                 150px
      bottom                30px
      right                 -24px
      bg                    color #424242
      box-shadow            0px 2px 10px 0px rgba(0,0,0,0.05)
      abs()

    .tooltiptext:after, .tooltiptext:before
      bottom  -20px
      right 24px
      border solid transparent
      content " "
      height 0
      width 0
      position absolute
      pointer-events none

    .tooltiptext:after
      border-top-color #424242
      border-width 10px
      margin-left -10px

    .tooltiptext:before
      border-top-color transparent
      border-width 10px
      margin-left -10px


    div.close-update-view:hover span.tooltiptext
      visibility visible


.StackEditor-SecondaryActions
  width                     100%
  abs                       0 0 0px 0
  z-index                   10
  padding                   13px 20px 11px
  borderBox()

//
// MOVED STACK EDITOR STYLES
//

.kdtabpaneview.stackeditor
  rel()

  .kdloader
    padding                 0

  .main-loader
    top                     42%
    height                  auto
    width                   100%
    text-align              center
    abs()

    .text
      margin-top            10px

  form
    .formline
      padding               0

  .no-stack-found
    .text
      margin-bottom         10px

  .providers
    display                 flex
    display                 -webkit-flex
    flex-flow               row wrap
    -webkit-flex-flow       row wrap
    margin                  20px 0 30px

      .button-title
        display             none

      &.selected
        border-color        green

      &[disabled]
        background          #EEE
        opacity             .5
        vendor              filter, grayscale(100%)

      &.github
        bg image,           url("/a/images/vendors/github.png")
        bg size,            auto 100px
        bg position,        50px -2px

      &.bitbucket
        bg image,           url("/a/images/vendors/bitbucket.png")
        bg size,            auto 100px
        bg position,        47px -3px

      &.aws
        bg image,           url("/a/images/vendors/amazon.png")
        bg size,            auto 40px
        bg position,        38px 22px

      &.koding
        bg image,           url("/a/images/vendors/koding.png")
        bg size,            auto 40px
        bg position,        26px

      &.digitalocean
        bg image,           url("/a/images/vendors/digitalocean.png")
        bg size,            180px
        bg position,        7px 33px

      &.rackspace
        bg image,           url("/a/images/vendors/rackspace.png")
        bg size,            180px
        bg position,        8px 25px

      &.engineyard
        bg image,           url("/a/images/vendors/engineyard.png")
        bg size,            auto 40px
        bg position,        25px 28px

      &.google
        bg image,           url("/a/images/vendors/google.png")
        bg size,            200px
        bg position,        0 33px

  .top
    display                 flex
    display                 -webkit-flex
    margin-bottom           10px

    .text.intro
      margin                auto

    button.action
      margin                auto
      margin-left           4px
      margin-top            6px
      min-width             162px


  button
    &[disabled]
      opacity               .5
      color                 #fff

  .kdformview
    margin-top              20px

    .kdlabel
      line-height           39px
      min-width             160px
      fl()


  .edit-mode

    .step-define-stack
      margin-top            -20px

    .header.title, .description
      hidden()

  .steps-view
    display                 flex
    display                 -webkit-flex
    margin-bottom           30px

    cite.vline
      size                  100%, 1px
      border-top            1px solid #BDBDBD
      left                  0
      top                   20px
      abs()

    div
      width                 300px
      margin                auto
      text-align            center

      .step
        size                40px, 40px
        left                -20px

        color               white
        font-size           20px
        text-align          center
        border-radius       40px
        background-color    #BDBDBD

        padding-top         8px
        margin-left         50%

        borderBox()
        rel()

      .title
        width               auto
        margin-top          5px
        color               #BDBDBD

      &.selected
        .step
          background        #02A74D
        .title
          color             #02A74D

  .repo-listview
    margin-top              20px
    height                  calc(100% \- 60px)

  .select-view

    display                 flex
    display                 -webkit-flex

    margin-top              20px
    borderBox()

    .kdselectbox
      min-width             130px
      padding-top           2px
      border-radius         3px
      borderBox()

      .arrows
        top                 12px

    div, input, button
      margin                auto !important
      margin-right          10px !important
      height                40px
      min-width             80px

    button
      margin-right          0 !important
  .stack-onboarding.main-content
    padding-top             40px

  .ace_gutter-layer
    bg                      color, #FFF

  .stacktemplates
    padding-top             40px
    borderBox()

  .StackEditorView.edit-mode
    .step-define-stack .editor-pane.editor-view
      margin-top            20px

  .editor-main > .kdview
    height                  100% !important


  .no-item-view
    text-align              center
    margin-top              70px
    font-size               15px
    color                   #a1a1a1

  .StackEditorView

    .providers
      .text.header
        margin-bottom       15px

    .buttons
      text-align            right

  .readme

    .editor-view
      rounded               4px 4px 0 0

    .preview-button
      z-index               13
      bottom                -80px
      margin                0
      bg                    color, white !important
      border-width          0
      letter-spacing        .5px
      abs()
      &:focus
        vendor              box-shadow, none
      right                 84px
      .button-title
        font-weight         300
        line-height         24px
        font-size           14px

  .readme
  .custom-variables
    > .kdview
      padding-right         0

  .message-view
    font-size               14px
    height                  50px

    pre
      display               inline
      background-color      #eee
      font-size             12px
      padding               2px 3px
      border                1px solid #ddd
      rounded               2px

  .step-define-stack

    > .kdbutton
      z-index               14

    .editor-view
      rounded               4px 4px 0 0


  .kdview.output
    vendor                  transition, height .2s ease
    background-color        rgb(250, 250, 250)
    border-radius           0 0 2px 2px
    z-index                 15
    height                  0 !important
    rounded                 0 0 4px 4px
    borderBox()
    abs                     0 0 0px 0px

    &.raise
      height                calc(70% - 33px) !important
      border-top            1px solid #e4e4e4

    pre.output-view
      height                auto
      margin                0 10px
      white-space           pre-wrap

    .kdlabel
      line-height           49px
      text-indent           17px
      margin                0

.StackEditorView--header-subHeader
  display                   flex
  font-size                 13px
  font-weight               300
  padding                   0 10px

  .edit-name
    color                   #67A2EE
    text-decoration         none
    margin-right            10px
    font-size               12px
    line-height             18px

  .cloned-from-text
    color                   #A59999
    max-width               300px
    margin-top              3px
    ellipsis()

    &:before
      content               ''
      rel()
      borderBox()
      dIBlock()
      border                3px solid #A59999
      rounded               100%
      top                   -1px
      margin-right          5px

  .cloned-from
    color                   #67A2EE
    cursor                  pointer
    display                 initial
    font-size               12px

  .input-title-wrapper
    flex                    0 1 auto
    max-width               50%
    .kdinput.text
      font-size               15px
      size                    auto 16px
      display                 block
      padding                 0 10px
      color                   #424242
      bg                      color transparent
      font-weight             400
      border                  1px solid transparent
      rounded                 3px
      outline                 none
      shadow                  none
      pointer-events          none
      contentBox()

      &:hover
        border                1px solid transparent

      &:focus
        pointer-events        auto
        padding               6px 10px 5px
        margin                -6px 0 0
        outline               inherit
        bg                    color #FFFFFF
        border                1px solid $borderColor

.StackEditorView--header-subHeader.readonly
  div.buttons
  a.custom-link-view
    display                 none !important
  .kdinput.text
    opacity                 0.5

.CredentialModal .credential code
  border                    0
