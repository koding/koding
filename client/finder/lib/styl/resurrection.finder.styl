

@import "nib/gradients"

active-color       = #1B2224
finderDimmedColor1 = #cccccc
finderDimmedColor2 = #c2c2c2
@css {
/*
FINDER stylesheet
resurrection.finder.styl
*/
}

.kdlistitemview-finderitem
  height              auto
  min-height          28px
  font-size           13px
  color               #5e7074
  noTextSelection()

  &:first-child
    margin-top        0px

  .chevron
    abs()
    top               7px
    right             4px
    z-index           2
    float             none
    display           none
    margin            0
    size              22px 22px

  &.selected
    color             #ddd
    text-shadow       0 -1px 0 rgba(0,0,0,0.22)
    bg                color, finderSelectedColor1

    // I'll find a better place for it ~ GG
    .vm
      span.path-select
        display       block
        bg            position, -220px -520px
    .title
      color           #ddd
      text-shadow     none
    &+.selected
      selectedNeighbor()
    &+.jtreevie
      .kdlistitemview-finderitem
        &:first-child
          &.selected
            selectedNeighbor()

    span.chevron
      r-sprite            finder '16-chevron-white'
      display       block

    .vm span.path-select
      display       block


  &.unsaved
    span.icon
      color           black!important
      font-size       14px
      text-indent     -2px
      line-height     10px
      vertical-align  top
      &:before
        content       "*"

  &:hover
    span.chevron
    .vm span.path-select
      display       block

  &.expanded
    > div
      span.icon
        r-sprite      finder '16-folder-expanded'


  &.being-inline-edited
    .chevron
      hidden()

  &.being-deleted
    background        linear-gradient(top, rgb(199,81,29) 100%,rgb(168,70,25) 44%)
    height            22px
    .kdview.delete-container
      padding         0 10px
    label
      color           white
    button.kdbutton
      margin          6px 15px 0 0
      padding         2px 4px 2px 4px
      width           auto
      font-weight     normal
      fr()

  &.items-hovering
    background        rgba(136, 183, 214, 0.25)
    text-shadow       none

  &.drop-target
    background        rgb(136, 183, 214)
    color             white
    text-shadow       none

  a.cancel
    abs()
    size            15px, 15px
    bg              position, -82px -222px
    right           5px
    top             6px
    kdfsprite()
    &:focus
    &:active
      bg            position, -62px -242px

  > div
    line-height       28px
    height            100%
    width             auto
    .title
      cursor          default
      font-weight     normal
      margin-right    40px
      display         block
      overflow        hidden
      text-overflow   ellipsis
      white-space     nowrap

    form
      height          22px

    input.kdinput.text
      margin          2px 5px 0 0
      height          23px
      line-height     1em
      border          none
      shadow          none
      rounded         2px
      fl()

    button.kdbutton
      margin          2px 10px 0 0
      padding         2px 4px 2px 4px
      width           auto
      font-weight     normal
      fr()

    .kdloader
      margin        5px
      fl()

    &.rename-container
      height        28px
      padding-right 25px
      input.hitenterview
        bg          image, none
        width       100%
        margin      2px 0
        padding     0 0 0 7px
        font-size   13px
        font-weight 400
      a.cancel
        top         6px
        right       4px
        r-sprite      finder '16-close-white'

  .progressbar-container
    hidden()

  &.progress
    vendor          transition-duration, 100ms
    opacity         0.7
    .title
      width         70px
    .progressbar-container
      visible()
      abs           8px 30px
      size          40px 5px
      .bar
        gradient    #afafaf, #afafaf
        shadow      none
    &.being-deleted
    &.being-edited
      .progressbar-container
        hidden()
    .vm
      .vm-info
        hidden()
      .title
        width       auto
      & + .progressbar-container
        top         23px
        right       11px
        width       187px

.file-container

  .app-header
    size            100% 37px
    bg              color transparent
    line-height     37px
    color           #555
    font-size       12px
    text-indent     10px
    text-transform  uppercase
    font-weight     400


  .kdbutton.finder-mountvm
    background    #1b2224
    border        none
    display       block
    color         #60787d
    font-size     12px
    line-height   24px
    font-weight   400
    text-shadow   none
    width         96%
    margin        2%
    abs           0 0 0px 0
    z-index       20

    &:hover
      background  #60787d
      color       #252e30

    .button-title
      color       inherit
      font-size   inherit
      line-height inherit
      font-weight inherit
      text-shadow inherit

  .vm
  .file
  .mount
  .folder
  .broken
  .section
    font-size       13px

    span.icon
      fl()

    span.icon
    span.path-select
      margin            5px
      size              16px 16px

  .vm
    margin-left         0 !important
    height              32px
    padding-top         1px
    padding-bottom      3px

    &.online span.icon
      bg                color, #4cd449

    .kdloader
      margin            0
      top               10px
      left              5px
      abs()

    span.icon
      margin            0 16px 0 0
      width             5px !important
      height            36px !important
      bg                color, #bdbdbd
      bg                image, none !important
    span.chevron
      top               3px

    span.path-select
      top               0
      size              18px,18px
      right             22px
      display           none
      bg                position, -220px -540px
      kdfsprite()
      abs()

    span.vm-info
      top               27px
      left              22px
      font-size         10px
      font-style        italic
      opacity           .7
      line-height       10px
      color             #aaa
      abs()
      a
        color           #ccc
        text-decoration none

    div.vm-toggle
      top               3px
      right             20px
      abs()

  .folder
  .mount
    span.icon
      r-sprite        finder '16-folder'
    span.icon.application
      r-sprite        finder '16-app'

  .folder
    span.icon
      &.app
        r-sprite      finder '16-app'

  .broken
    span.icon
      bg            position, -60px -140px

  .file
    span.icon
      r-sprite        finder '16-file'
      // &.code
      //   bg          position, -40px -180px
      // &.image
      //   bg          position, -40px -200px
      // &.archive
      //   bg          position, -40px -220px
      // &.new-file
      //   bg          position, -40px -240px
      // &.video
      //   bg          position, -40px -260px
      // &.sound
      //   bg          position, -40px -280px
      // &.text
      //   bg          position, -40px -300px



.set-permissions-wrapper
  margin-left     0
  line-height     28px
  min-width       217px
  font-size       11px
  size            auto auto

  header
    border-bottom 1px solid rgb(213,213,213)
    padding-left  72px
    span
      width       45px
      text-align  center
      fl()

  aside
    width         60px
    text-align    right
    margin-right  12px
    padding-top   3px
    line-height   23px

    fl()

  section
    display       block
    overflow      hidden

  footer
    padding       0 0 15px

    p.old
      color       #666
      margin-left 15px
      em
        color     #888
    p
      width       48px
      fl()
      em
        font-style  normal
        color       logoBg
        font-weight 400

    button
      margin        0 15px 0 !important
      fr()

    label
      margin-right  2px

    .recursive
      padding       15px 15px 15px 42px
      margin        0 0 15px
      border-bottom 1px solid rgb(213,213,213)

    .koding-on-off
      margin        4px 0 0
      fr()

  .switcher-group-mask
    size        200px, 100px
    background  #fff
    opacity     0.6
    position    absolute
    &.can-set-recursive
      height    135px

  .new-mode-label
    margin-left 203px
    float       left

  .new-mode-input
    position    relative
    top         -2px
    width       30px

  .switcher-group
    width         45px
    fl()

  .koding-on-off
    margin        5px auto 0


.kdnotification.finder-notification
  top                0 !important
  left               0 !important
  abs()
  rounded            0
  bg                 color, #d65745
  size               100%, 39px
  line-height        39px
  padding            0
  margin             0
  shadow             none
  border             none
  font-size          12px
  font-weight        300
  color              #fbfbfb
  letter-spacing     .2px

  .kdnotification-title
    color            inherit
    font-size        inherit
    font-weight      inherit
    line-height      inherit
    letter-spacing   inherit
    opacity          .9
    padding          0 0 0 13px
    margin           0
    z-index          9

  .kdnotification-close
    display          block
    abs              11px 11px 0 0
    z-index          10
    r-sprite         "app", "red-close"


.kdmodal.mount-vm
  .kdlistview-vmlist
    .kdlistitemview
      padding        8px
      borderBox()

      &~.kdlistitemview
        margin       4px 0 0


      &:nth-of-type(even)
        background   #f7f7f7
        rounded      6px

      label
        fl()

    .koding-on-off
      fr()
