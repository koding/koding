{
    "version": 1,
    "serial": 12,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "public_az1_subnet_id": "subnet-d658bba0",
                "region": "us-west-2",
                "vpc_cidr": "10.201.0.0/16",
                "vpc_id": "vpc-65814701"
            },
            "resources": {
                "aws_key_pair.onprem": {
                    "type": "aws_key_pair",
                    "primary": {
                        "id": "onprem",
                        "attributes": {
                            "id": "onprem",
                            "key_name": "onprem",
                            "public_key": "foo"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "bootstrap"
            ],
            "outputs": {
                "consul_bootstrap_dns": "consul.bootstrap"
            },
            "resources": {
                "aws_route53_record.oasis-consul-bootstrap-a": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_route53_zone.oasis-consul-bootstrap"
                    ],
                    "primary": {
                        "id": "Z68734P5178QN_consul.bootstrap_A",
                        "attributes": {
                            "failover": "",
                            "fqdn": "consul.bootstrap",
                            "health_check_id": "",
                            "id": "Z68734P5178QN_consul.bootstrap_A",
                            "name": "consul.bootstrap",
                            "records.#": "6",
                            "records.1148461392": "10.201.3.8",
                            "records.1169574759": "10.201.2.8",
                            "records.1206973758": "10.201.1.8",
                            "records.1275070284": "10.201.2.4",
                            "records.1304587643": "10.201.3.4",
                            "records.1313257749": "10.201.1.4",
                            "set_identifier": "",
                            "ttl": "300",
                            "type": "A",
                            "weight": "-1",
                            "zone_id": "Z68734P5178QN"
                        }
                    }
                },
                "aws_route53_record.oasis-consul-bootstrap-ns": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_route53_zone.oasis-consul-bootstrap",
                        "aws_route53_zone.oasis-consul-bootstrap",
                        "aws_route53_zone.oasis-consul-bootstrap",
                        "aws_route53_zone.oasis-consul-bootstrap",
                        "aws_route53_zone.oasis-consul-bootstrap"
                    ],
                    "primary": {
                        "id": "Z68734P5178QN_consul.bootstrap_NS",
                        "attributes": {
                            "failover": "",
                            "fqdn": "consul.bootstrap",
                            "health_check_id": "",
                            "id": "Z68734P5178QN_consul.bootstrap_NS",
                            "name": "consul.bootstrap",
                            "records.#": "4",
                            "records.1796532126": "ns-512.awsdns-00.net.",
                            "records.2728059479": "ns-1536.awsdns-00.co.uk.",
                            "records.4092160370": "ns-1024.awsdns-00.org.",
                            "records.456007465": "ns-0.awsdns-00.com.",
                            "set_identifier": "",
                            "ttl": "30",
                            "type": "NS",
                            "weight": "-1",
                            "zone_id": "Z68734P5178QN"
                        }
                    }
                },
                "aws_route53_zone.oasis-consul-bootstrap": {
                    "type": "aws_route53_zone",
                    "primary": {
                        "id": "Z68734P5178QN",
                        "attributes": {
                            "comment": "Used to bootstrap consul dns",
                            "id": "Z68734P5178QN",
                            "name": "consul.bootstrap",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.#": "0",
                            "vpc_id": "vpc-65814701",
                            "vpc_region": "us-west-2",
                            "zone_id": "Z68734P5178QN"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "consul"
            ],
            "outputs": {
                "consul_ips": "10.201.1.8,10.201.2.8,10.201.3.8,",
                "security_group_id": "sg-6c4d2f0b"
            },
            "resources": {
                "aws_instance.consul-green.0": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.consul"
                    ],
                    "primary": {
                        "id": "i-6dc2acb5",
                        "attributes": {
                            "ami": "ami-abcd1234",
                            "availability_zone": "us-west-2a",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-6dc2acb5",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "key_name": "onprem",
                            "monitoring": "false",
                            "private_dns": "ip-10-201-1-8.us-west-2.compute.internal",
                            "private_ip": "10.201.1.8",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-d558bba3",
                            "tags.#": "1",
                            "tags.Name": "onprem-consul",
                            "tenancy": "default",
                            "user_data": "daea808a0010d9ab14d862878905052ee9e3fe55",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.753260136": "sg-6c4d2f0b"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.consul-green.1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.consul"
                    ],
                    "primary": {
                        "id": "i-59bde69e",
                        "attributes": {
                            "ami": "ami-abcd1234",
                            "availability_zone": "us-west-2b",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-59bde69e",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "key_name": "onprem",
                            "monitoring": "false",
                            "private_dns": "ip-10-201-2-8.us-west-2.compute.internal",
                            "private_ip": "10.201.2.8",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-984f81fc",
                            "tags.#": "1",
                            "tags.Name": "onprem-consul",
                            "tenancy": "default",
                            "user_data": "daea808a0010d9ab14d862878905052ee9e3fe55",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.753260136": "sg-6c4d2f0b"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.consul-green.2": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.consul"
                    ],
                    "primary": {
                        "id": "i-24d5e9fe",
                        "attributes": {
                            "ami": "ami-abcd1234",
                            "availability_zone": "us-west-2c",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-24d5e9fe",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "key_name": "onprem",
                            "monitoring": "false",
                            "private_dns": "ip-10-201-3-8.us-west-2.compute.internal",
                            "private_ip": "10.201.3.8",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-776d532e",
                            "tags.#": "1",
                            "tags.Name": "onprem-consul",
                            "tenancy": "default",
                            "user_data": "daea808a0010d9ab14d862878905052ee9e3fe55",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.753260136": "sg-6c4d2f0b"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_security_group.consul": {
                    "type": "aws_security_group",
                    "primary": {
                        "id": "sg-6c4d2f0b",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-6c4d2f0b",
                            "ingress.#": "1",
                            "ingress.3832255922.cidr_blocks.#": "2",
                            "ingress.3832255922.cidr_blocks.0": "10.201.0.0/16",
                            "ingress.3832255922.cidr_blocks.1": "127.0.0.1/32",
                            "ingress.3832255922.from_port": "0",
                            "ingress.3832255922.protocol": "-1",
                            "ingress.3832255922.security_groups.#": "0",
                            "ingress.3832255922.self": "false",
                            "ingress.3832255922.to_port": "0",
                            "name": "onprem-consul",
                            "owner_id": "209146746714",
                            "tags.#": "0",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core"
            ],
            "outputs": {
                "private_az1_subnet_id": "subnet-d558bba3",
                "private_az2_subnet_id": "subnet-984f81fc",
                "private_az3_subnet_id": "subnet-776d532e",
                "public_az1_subnet_id": "subnet-d658bba0",
                "public_az2_subnet_id": "subnet-9f4f81fb",
                "public_az3_subnet_id": "subnet-756d532c",
                "vpc_cidr": "10.201.0.0/16",
                "vpc_id": "vpc-65814701"
            },
            "resources": {}
        },
        {
            "path": [
                "root",
                "vault"
            ],
            "outputs": {
                "dns_name": "internal-onprem-vault-2015291251.us-west-2.elb.amazonaws.com",
                "private_ips": "10.201.1.145,10.201.2.191,10.201.3.230"
            },
            "resources": {
                "aws_elb.vault": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_instance.vault",
                        "aws_security_group.elb"
                    ],
                    "primary": {
                        "id": "onprem-vault",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-onprem-vault-2015291251.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.4162994118.healthy_threshold": "2",
                            "health_check.4162994118.interval": "15",
                            "health_check.4162994118.target": "HTTPS:8200/v1/sys/health",
                            "health_check.4162994118.timeout": "5",
                            "health_check.4162994118.unhealthy_threshold": "3",
                            "id": "onprem-vault",
                            "idle_timeout": "60",
                            "instances.#": "3",
                            "instances.1694111637": "i-b6d5e96c",
                            "instances.237539873": "i-11bee5d6",
                            "instances.3767473091": "i-f3c2ac2b",
                            "internal": "true",
                            "listener.#": "2",
                            "listener.2355508663.instance_port": "8200",
                            "listener.2355508663.instance_protocol": "tcp",
                            "listener.2355508663.lb_port": "443",
                            "listener.2355508663.lb_protocol": "tcp",
                            "listener.2355508663.ssl_certificate_id": "",
                            "listener.3383204430.instance_port": "8200",
                            "listener.3383204430.instance_protocol": "tcp",
                            "listener.3383204430.lb_port": "80",
                            "listener.3383204430.lb_protocol": "tcp",
                            "listener.3383204430.ssl_certificate_id": "",
                            "name": "onprem-vault",
                            "security_groups.#": "1",
                            "security_groups.4254461258": "sg-6b4d2f0c",
                            "source_security_group": "onprem-vault-elb",
                            "source_security_group_id": "sg-6b4d2f0c",
                            "subnets.#": "3",
                            "subnets.1994053001": "subnet-d658bba0",
                            "subnets.3216774672": "subnet-756d532c",
                            "subnets.3611140374": "subnet-9f4f81fb",
                            "tags.#": "0",
                            "zone_id": "Z33MTJ483KN6FU"
                        }
                    }
                },
                "aws_instance.vault.0": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.vault",
                        "template_cloudinit_config.config"
                    ],
                    "primary": {
                        "id": "i-f3c2ac2b",
                        "attributes": {
                            "ami": "ami-abcd1234",
                            "availability_zone": "us-west-2a",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-f3c2ac2b",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "key_name": "onprem",
                            "monitoring": "false",
                            "private_dns": "ip-10-201-1-145.us-west-2.compute.internal",
                            "private_ip": "10.201.1.145",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-d558bba3",
                            "tags.#": "1",
                            "tags.Name": "onprem-vault - 0",
                            "tenancy": "default",
                            "user_data": "423b5c91392a6b2ac287a118fcdad0aadaeffd48",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1377395316": "sg-6a4d2f0d"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.vault.1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.vault",
                        "template_cloudinit_config.config"
                    ],
                    "primary": {
                        "id": "i-11bee5d6",
                        "attributes": {
                            "ami": "ami-abcd1234",
                            "availability_zone": "us-west-2b",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-11bee5d6",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "key_name": "onprem",
                            "monitoring": "false",
                            "private_dns": "ip-10-201-2-191.us-west-2.compute.internal",
                            "private_ip": "10.201.2.191",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-984f81fc",
                            "tags.#": "1",
                            "tags.Name": "onprem-vault - 1",
                            "tenancy": "default",
                            "user_data": "de5ec79c02b721123a7c2a1622257b425aa26e61",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1377395316": "sg-6a4d2f0d"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_instance.vault.2": {
                    "type": "aws_instance",
                    "depends_on": [
                        "aws_security_group.vault",
                        "template_cloudinit_config.config"
                    ],
                    "primary": {
                        "id": "i-b6d5e96c",
                        "attributes": {
                            "ami": "ami-abcd1234",
                            "availability_zone": "us-west-2c",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-b6d5e96c",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "key_name": "onprem",
                            "monitoring": "false",
                            "private_dns": "ip-10-201-3-230.us-west-2.compute.internal",
                            "private_ip": "10.201.3.230",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "24",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-776d532e",
                            "tags.#": "1",
                            "tags.Name": "onprem-vault - 2",
                            "tenancy": "default",
                            "user_data": "7ecdafc11c715866578ab5441bb27abbae97c850",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1377395316": "sg-6a4d2f0d"
                        },
                        "meta": {
                            "schema_version": "1"
                        }
                    }
                },
                "aws_security_group.elb": {
                    "type": "aws_security_group",
                    "primary": {
                        "id": "sg-6b4d2f0c",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-6b4d2f0c",
                            "ingress.#": "2",
                            "ingress.2915022413.cidr_blocks.#": "1",
                            "ingress.2915022413.cidr_blocks.0": "10.201.0.0/16",
                            "ingress.2915022413.from_port": "80",
                            "ingress.2915022413.protocol": "tcp",
                            "ingress.2915022413.security_groups.#": "0",
                            "ingress.2915022413.self": "false",
                            "ingress.2915022413.to_port": "80",
                            "ingress.382081576.cidr_blocks.#": "1",
                            "ingress.382081576.cidr_blocks.0": "10.201.0.0/16",
                            "ingress.382081576.from_port": "443",
                            "ingress.382081576.protocol": "tcp",
                            "ingress.382081576.security_groups.#": "0",
                            "ingress.382081576.self": "false",
                            "ingress.382081576.to_port": "443",
                            "name": "onprem-vault-elb",
                            "owner_id": "209146746714",
                            "tags.#": "0",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_security_group.vault": {
                    "type": "aws_security_group",
                    "primary": {
                        "id": "sg-6a4d2f0d",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-6a4d2f0d",
                            "ingress.#": "1",
                            "ingress.2546146930.cidr_blocks.#": "1",
                            "ingress.2546146930.cidr_blocks.0": "10.201.0.0/16",
                            "ingress.2546146930.from_port": "0",
                            "ingress.2546146930.protocol": "-1",
                            "ingress.2546146930.security_groups.#": "0",
                            "ingress.2546146930.self": "false",
                            "ingress.2546146930.to_port": "0",
                            "name": "onprem-vault",
                            "owner_id": "209146746714",
                            "tags.#": "0",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "igw"
            ],
            "outputs": {
                "id": "igw-d06c48b5"
            },
            "resources": {
                "aws_internet_gateway.main_igw": {
                    "type": "aws_internet_gateway",
                    "primary": {
                        "id": "igw-d06c48b5",
                        "attributes": {
                            "id": "igw-d06c48b5",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "private-subnets"
            ],
            "outputs": {
                "az1_subnet_id": "subnet-d558bba3",
                "az2_subnet_id": "subnet-984f81fc",
                "az3_subnet_id": "subnet-776d532e"
            },
            "resources": {
                "aws_subnet.subnet_az1_private": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-d558bba3",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.201.1.0/24",
                            "id": "subnet-d558bba3",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "onprem-private",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_subnet.subnet_az2_private": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-984f81fc",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.201.2.0/24",
                            "id": "subnet-984f81fc",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "onprem-private",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_subnet.subnet_az3_private": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-776d532e",
                        "attributes": {
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.201.3.0/24",
                            "id": "subnet-776d532e",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "onprem-private",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "public-subnets"
            ],
            "outputs": {
                "az1_nat_gateway_id": "nat-05ca7f2d5f1f96693",
                "az1_subnet_id": "subnet-d658bba0",
                "az2_nat_gateway_id": "nat-03223582301f75a08",
                "az2_subnet_id": "subnet-9f4f81fb",
                "az3_nat_gateway_id": "nat-0f2710d577d3f32ee",
                "az3_subnet_id": "subnet-756d532c"
            },
            "resources": {
                "aws_eip.eip_nat_az1": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-5f7bd73b",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-5f7bd73b",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "52.37.99.10",
                            "vpc": "true"
                        }
                    }
                },
                "aws_eip.eip_nat_az2": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-927bd7f6",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-927bd7f6",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "52.36.32.86",
                            "vpc": "true"
                        }
                    }
                },
                "aws_eip.eip_nat_az3": {
                    "type": "aws_eip",
                    "primary": {
                        "id": "eipalloc-fe76da9a",
                        "attributes": {
                            "association_id": "",
                            "domain": "vpc",
                            "id": "eipalloc-fe76da9a",
                            "instance": "",
                            "network_interface": "",
                            "private_ip": "",
                            "public_ip": "52.25.71.124",
                            "vpc": "true"
                        }
                    }
                },
                "aws_nat_gateway.nat_gw_az1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.eip_nat_az1",
                        "aws_subnet.subnet_az1_public"
                    ],
                    "primary": {
                        "id": "nat-05ca7f2d5f1f96693",
                        "attributes": {
                            "allocation_id": "eipalloc-5f7bd73b",
                            "id": "nat-05ca7f2d5f1f96693",
                            "network_interface_id": "eni-c3ff6089",
                            "private_ip": "10.201.101.229",
                            "public_ip": "52.37.99.10",
                            "subnet_id": "subnet-d658bba0"
                        }
                    }
                },
                "aws_nat_gateway.nat_gw_az2": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.eip_nat_az2",
                        "aws_subnet.subnet_az2_public"
                    ],
                    "primary": {
                        "id": "nat-03223582301f75a08",
                        "attributes": {
                            "allocation_id": "eipalloc-927bd7f6",
                            "id": "nat-03223582301f75a08",
                            "network_interface_id": "eni-db22f0a0",
                            "private_ip": "10.201.102.214",
                            "public_ip": "52.36.32.86",
                            "subnet_id": "subnet-9f4f81fb"
                        }
                    }
                },
                "aws_nat_gateway.nat_gw_az3": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.eip_nat_az3",
                        "aws_subnet.subnet_az3_public"
                    ],
                    "primary": {
                        "id": "nat-0f2710d577d3f32ee",
                        "attributes": {
                            "allocation_id": "eipalloc-fe76da9a",
                            "id": "nat-0f2710d577d3f32ee",
                            "network_interface_id": "eni-e0cd4dbd",
                            "private_ip": "10.201.103.58",
                            "public_ip": "52.25.71.124",
                            "subnet_id": "subnet-756d532c"
                        }
                    }
                },
                "aws_route_table.route_table_public": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-838f29e7",
                        "attributes": {
                            "id": "rtb-838f29e7",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1250083285.cidr_block": "0.0.0.0/0",
                            "route.1250083285.gateway_id": "igw-d06c48b5",
                            "route.1250083285.instance_id": "",
                            "route.1250083285.nat_gateway_id": "",
                            "route.1250083285.network_interface_id": "",
                            "route.1250083285.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "onprem-public",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table_association.route_table_az1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_public",
                        "aws_subnet.subnet_az1_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-a5d6abc1",
                        "attributes": {
                            "id": "rtbassoc-a5d6abc1",
                            "route_table_id": "rtb-838f29e7",
                            "subnet_id": "subnet-d658bba0"
                        }
                    }
                },
                "aws_route_table_association.route_table_az2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_public",
                        "aws_subnet.subnet_az2_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-a0d6abc4",
                        "attributes": {
                            "id": "rtbassoc-a0d6abc4",
                            "route_table_id": "rtb-838f29e7",
                            "subnet_id": "subnet-9f4f81fb"
                        }
                    }
                },
                "aws_route_table_association.route_table_az3": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_public",
                        "aws_subnet.subnet_az3_public"
                    ],
                    "primary": {
                        "id": "rtbassoc-a7d6abc3",
                        "attributes": {
                            "id": "rtbassoc-a7d6abc3",
                            "route_table_id": "rtb-838f29e7",
                            "subnet_id": "subnet-756d532c"
                        }
                    }
                },
                "aws_subnet.subnet_az1_public": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-d658bba0",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.201.101.0/24",
                            "id": "subnet-d658bba0",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "1",
                            "tags.Name": "onprem-public",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_subnet.subnet_az2_public": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-9f4f81fb",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.201.102.0/24",
                            "id": "subnet-9f4f81fb",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "1",
                            "tags.Name": "onprem-public",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_subnet.subnet_az3_public": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-756d532c",
                        "attributes": {
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.201.103.0/24",
                            "id": "subnet-756d532c",
                            "map_public_ip_on_launch": "true",
                            "tags.#": "1",
                            "tags.Name": "onprem-public",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "restricted-subnets"
            ],
            "outputs": {
                "az1_subnet_id": "subnet-d758bba1",
                "az2_subnet_id": "subnet-994f81fd",
                "az3_subnet_id": "subnet-746d532d"
            },
            "resources": {
                "aws_subnet.subnet_az1_private": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-d758bba1",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.201.220.0/24",
                            "id": "subnet-d758bba1",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "onprem-restricted",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_subnet.subnet_az2_private": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-994f81fd",
                        "attributes": {
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.201.221.0/24",
                            "id": "subnet-994f81fd",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "onprem-restricted",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_subnet.subnet_az3_private": {
                    "type": "aws_subnet",
                    "primary": {
                        "id": "subnet-746d532d",
                        "attributes": {
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.201.222.0/24",
                            "id": "subnet-746d532d",
                            "map_public_ip_on_launch": "false",
                            "tags.#": "1",
                            "tags.Name": "onprem-restricted",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "routing-private"
            ],
            "outputs": {
                "az1_route_table_id": "rtb-828f29e6",
                "az2_route_table_id": "rtb-808f29e4",
                "az3_route_table_id": "rtb-818f29e5"
            },
            "resources": {
                "aws_route.route_table_az1_private_default": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_route_table.route_table_az1_private",
                        "aws_route_table.route_table_az1_private"
                    ],
                    "primary": {
                        "id": "r-rtb-828f29e61080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-828f29e61080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-05ca7f2d5f1f96693",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-828f29e6",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        }
                    }
                },
                "aws_route.route_table_az2_private_default": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_route_table.route_table_az2_private",
                        "aws_route_table.route_table_az2_private"
                    ],
                    "primary": {
                        "id": "r-rtb-808f29e41080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-808f29e41080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-03223582301f75a08",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-808f29e4",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        }
                    }
                },
                "aws_route.route_table_az3_private_default": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_route_table.route_table_az3_private",
                        "aws_route_table.route_table_az3_private"
                    ],
                    "primary": {
                        "id": "r-rtb-818f29e51080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-818f29e51080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-0f2710d577d3f32ee",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-818f29e5",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        }
                    }
                },
                "aws_route_table.route_table_az1_private": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-828f29e6",
                        "attributes": {
                            "id": "rtb-828f29e6",
                            "propagating_vgws.#": "0",
                            "route.#": "0",
                            "tags.#": "1",
                            "tags.Name": "onprem-routing-private",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table.route_table_az2_private": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-808f29e4",
                        "attributes": {
                            "id": "rtb-808f29e4",
                            "propagating_vgws.#": "0",
                            "route.#": "0",
                            "tags.#": "1",
                            "tags.Name": "onprem-routing-private",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table.route_table_az3_private": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-818f29e5",
                        "attributes": {
                            "id": "rtb-818f29e5",
                            "propagating_vgws.#": "0",
                            "route.#": "0",
                            "tags.#": "1",
                            "tags.Name": "onprem-routing-private",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table_association.route_table_az1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_az1_private",
                        "aws_route_table.route_table_az1_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-a4d6abc0",
                        "attributes": {
                            "id": "rtbassoc-a4d6abc0",
                            "route_table_id": "rtb-828f29e6",
                            "subnet_id": "subnet-d558bba3"
                        }
                    }
                },
                "aws_route_table_association.route_table_az2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_az2_private",
                        "aws_route_table.route_table_az2_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-d9d6abbd",
                        "attributes": {
                            "id": "rtbassoc-d9d6abbd",
                            "route_table_id": "rtb-808f29e4",
                            "subnet_id": "subnet-984f81fc"
                        }
                    }
                },
                "aws_route_table_association.route_table_az3": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_az3_private",
                        "aws_route_table.route_table_az3_private"
                    ],
                    "primary": {
                        "id": "rtbassoc-dbd6abbf",
                        "attributes": {
                            "id": "rtbassoc-dbd6abbf",
                            "route_table_id": "rtb-818f29e5",
                            "subnet_id": "subnet-776d532e"
                        }
                    }
                },
                "aws_vpc_endpoint.vpe_s3_az1_private": {
                    "type": "aws_vpc_endpoint",
                    "depends_on": [
                        "aws_route_table.route_table_az1_private",
                        "aws_route_table.route_table_az1_private"
                    ],
                    "primary": {
                        "id": "vpce-94e70afd",
                        "attributes": {
                            "id": "vpce-94e70afd",
                            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2008-10-17\"}",
                            "route_table_ids.#": "1",
                            "route_table_ids.1792300572": "rtb-828f29e6",
                            "service_name": "com.amazonaws.us-west-2.s3",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_vpc_endpoint.vpe_s3_az2_private": {
                    "type": "aws_vpc_endpoint",
                    "depends_on": [
                        "aws_route_table.route_table_az2_private",
                        "aws_route_table.route_table_az2_private"
                    ],
                    "primary": {
                        "id": "vpce-95e70afc",
                        "attributes": {
                            "id": "vpce-95e70afc",
                            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2008-10-17\"}",
                            "route_table_ids.#": "1",
                            "route_table_ids.323298841": "rtb-808f29e4",
                            "service_name": "com.amazonaws.us-west-2.s3",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_vpc_endpoint.vpe_s3_az3_private": {
                    "type": "aws_vpc_endpoint",
                    "depends_on": [
                        "aws_route_table.route_table_az3_private",
                        "aws_route_table.route_table_az3_private"
                    ],
                    "primary": {
                        "id": "vpce-97e70afe",
                        "attributes": {
                            "id": "vpce-97e70afe",
                            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2008-10-17\"}",
                            "route_table_ids.#": "1",
                            "route_table_ids.3258260795": "rtb-818f29e5",
                            "service_name": "com.amazonaws.us-west-2.s3",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "routing-restricted"
            ],
            "outputs": {},
            "resources": {
                "aws_route_table.route_table_az1_restricted": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-428c2a26",
                        "attributes": {
                            "id": "rtb-428c2a26",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1020029083.cidr_block": "0.0.0.0/0",
                            "route.1020029083.gateway_id": "",
                            "route.1020029083.instance_id": "",
                            "route.1020029083.nat_gateway_id": "nat-05ca7f2d5f1f96693",
                            "route.1020029083.network_interface_id": "",
                            "route.1020029083.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "onprem-routing-restricted",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table.route_table_az2_restricted": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-2d8c2a49",
                        "attributes": {
                            "id": "rtb-2d8c2a49",
                            "propagating_vgws.#": "0",
                            "route.#": "0",
                            "tags.#": "1",
                            "tags.Name": "onprem-routing-restricted",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table.route_table_az3_restricted": {
                    "type": "aws_route_table",
                    "primary": {
                        "id": "rtb-4a8c2a2e",
                        "attributes": {
                            "id": "rtb-4a8c2a2e",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3346134226.cidr_block": "0.0.0.0/0",
                            "route.3346134226.gateway_id": "",
                            "route.3346134226.instance_id": "",
                            "route.3346134226.nat_gateway_id": "nat-0f2710d577d3f32ee",
                            "route.3346134226.network_interface_id": "",
                            "route.3346134226.vpc_peering_connection_id": "",
                            "tags.#": "1",
                            "tags.Name": "onprem-routing-restricted",
                            "vpc_id": "vpc-65814701"
                        }
                    }
                },
                "aws_route_table_association.route_table_az1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_az1_restricted"
                    ],
                    "primary": {
                        "id": "rtbassoc-76d1ac12",
                        "attributes": {
                            "id": "rtbassoc-76d1ac12",
                            "route_table_id": "rtb-428c2a26",
                            "subnet_id": "subnet-d758bba1"
                        }
                    }
                },
                "aws_route_table_association.route_table_az2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_az2_restricted"
                    ],
                    "primary": {
                        "id": "rtbassoc-21d1ac45",
                        "attributes": {
                            "id": "rtbassoc-21d1ac45",
                            "route_table_id": "rtb-2d8c2a49",
                            "subnet_id": "subnet-994f81fd"
                        }
                    }
                },
                "aws_route_table_association.route_table_az3": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.route_table_az3_restricted"
                    ],
                    "primary": {
                        "id": "rtbassoc-45d1ac21",
                        "attributes": {
                            "id": "rtbassoc-45d1ac21",
                            "route_table_id": "rtb-4a8c2a2e",
                            "subnet_id": "subnet-746d532d"
                        }
                    }
                }
            }
        },
        {
            "path": [
                "root",
                "network-core",
                "vpc"
            ],
            "outputs": {
                "cidr": "10.201.0.0/16",
                "id": "vpc-65814701"
            },
            "resources": {
                "aws_vpc.vpc": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-65814701",
                        "attributes": {
                            "cidr_block": "10.201.0.0/16",
                            "default_network_acl_id": "acl-30964254",
                            "default_security_group_id": "sg-604d2f07",
                            "dhcp_options_id": "dopt-e1afbb83",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "id": "vpc-65814701",
                            "main_route_table_id": "rtb-868f29e2",
                            "tags.#": "1",
                            "tags.Name": "onprem"
                        }
                    }
                }
            }
        }
    ]
}
