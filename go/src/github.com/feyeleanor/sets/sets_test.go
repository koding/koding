package sets

import (
	"testing"
)

func TestSubsetOf(t *testing.T) {
	ConfirmSubsetOf := func(s, x Set, r bool) {
		if v := SubsetOf(s, x); r != v {
			t.Errorf("SubsetOf(%v, %v) expected %v but produced %v", s, x, r, v)
		}
	}

	ConfirmSubsetOf(C64Set(), C64Set(), true)
	ConfirmSubsetOf(C64Set(0), C64Set(), false)
	ConfirmSubsetOf(C64Set(), C64Set(0), true)
	ConfirmSubsetOf(C64Set(0), C64Set(0), true)
	ConfirmSubsetOf(C64Set(0), C64Set(1), false)
	ConfirmSubsetOf(C64Set(0), C64Set(0, 1), true)
	ConfirmSubsetOf(C64Set(0, 1), C64Set(0, 1), true)
	ConfirmSubsetOf(C64Set(0, 1, 2), C64Set(0, 1), false)

	ConfirmSubsetOf(C128Set(), C128Set(), true)
	ConfirmSubsetOf(C128Set(0), C128Set(), false)
	ConfirmSubsetOf(C128Set(), C128Set(0), true)
	ConfirmSubsetOf(C128Set(0), C128Set(0), true)
	ConfirmSubsetOf(C128Set(0), C128Set(1), false)
	ConfirmSubsetOf(C128Set(0), C128Set(0, 1), true)
	ConfirmSubsetOf(C128Set(0, 1), C128Set(0, 1), true)
	ConfirmSubsetOf(C128Set(0, 1, 2), C128Set(0, 1), false)

	ConfirmSubsetOf(ESet(), ESet(), true)
	ConfirmSubsetOf(ESet(E0), ESet(), false)
	ConfirmSubsetOf(ESet(), ESet(E0), true)
	ConfirmSubsetOf(ESet(E0), ESet(E0), true)
	ConfirmSubsetOf(ESet(E0), ESet(E1), false)
	ConfirmSubsetOf(ESet(E0), ESet(E0, E1), true)
	ConfirmSubsetOf(ESet(E0, E1), ESet(E0, E1), true)
	ConfirmSubsetOf(ESet(E0, E1, E2), ESet(E0, E1), false)

	ConfirmSubsetOf(F32Set(), F32Set(), true)
	ConfirmSubsetOf(F32Set(0), F32Set(), false)
	ConfirmSubsetOf(F32Set(), F32Set(0), true)
	ConfirmSubsetOf(F32Set(0), F32Set(0), true)
	ConfirmSubsetOf(F32Set(0), F32Set(1), false)
	ConfirmSubsetOf(F32Set(0), F32Set(0, 1), true)
	ConfirmSubsetOf(F32Set(0, 1), F32Set(0, 1), true)
	ConfirmSubsetOf(F32Set(0, 1, 2), F32Set(0, 1), false)

	ConfirmSubsetOf(F64Set(), F64Set(), true)
	ConfirmSubsetOf(F64Set(0), F64Set(), false)
	ConfirmSubsetOf(F64Set(), F64Set(0), true)
	ConfirmSubsetOf(F64Set(0), F64Set(0), true)
	ConfirmSubsetOf(F64Set(0), F64Set(1), false)
	ConfirmSubsetOf(F64Set(0), F64Set(0, 1), true)
	ConfirmSubsetOf(F64Set(0, 1), F64Set(0, 1), true)
	ConfirmSubsetOf(F64Set(0, 1, 2), F64Set(0, 1), false)

	ConfirmSubsetOf(ISet(), ISet(), true)
	ConfirmSubsetOf(ISet(0), ISet(), false)
	ConfirmSubsetOf(ISet(), ISet(0), true)
	ConfirmSubsetOf(ISet(0), ISet(0), true)
	ConfirmSubsetOf(ISet(0), ISet(1), false)
	ConfirmSubsetOf(ISet(0), ISet(0, 1), true)
	ConfirmSubsetOf(ISet(0, 1), ISet(0, 1), true)
	ConfirmSubsetOf(ISet(0, 1, 2), ISet(0, 1), false)

	ConfirmSubsetOf(I8Set(), I8Set(), true)
	ConfirmSubsetOf(I8Set(0), I8Set(), false)
	ConfirmSubsetOf(I8Set(), I8Set(0), true)
	ConfirmSubsetOf(I8Set(0), I8Set(0), true)
	ConfirmSubsetOf(I8Set(0), I8Set(1), false)
	ConfirmSubsetOf(I8Set(0), I8Set(0, 1), true)
	ConfirmSubsetOf(I8Set(0, 1), I8Set(0, 1), true)
	ConfirmSubsetOf(I8Set(0, 1, 2), I8Set(0, 1), false)

	ConfirmSubsetOf(I16Set(), I16Set(), true)
	ConfirmSubsetOf(I16Set(0), I16Set(), false)
	ConfirmSubsetOf(I16Set(), I16Set(0), true)
	ConfirmSubsetOf(I16Set(0), I16Set(0), true)
	ConfirmSubsetOf(I16Set(0), I16Set(1), false)
	ConfirmSubsetOf(I16Set(0), I16Set(0, 1), true)
	ConfirmSubsetOf(I16Set(0, 1), I16Set(0, 1), true)
	ConfirmSubsetOf(I16Set(0, 1, 2), I16Set(0, 1), false)

	ConfirmSubsetOf(I32Set(), I32Set(), true)
	ConfirmSubsetOf(I32Set(0), I32Set(), false)
	ConfirmSubsetOf(I32Set(), I32Set(0), true)
	ConfirmSubsetOf(I32Set(0), I32Set(0), true)
	ConfirmSubsetOf(I32Set(0), I32Set(1), false)
	ConfirmSubsetOf(I32Set(0), I32Set(0, 1), true)
	ConfirmSubsetOf(I32Set(0, 1), I32Set(0, 1), true)
	ConfirmSubsetOf(I32Set(0, 1, 2), I32Set(0, 1), false)

	ConfirmSubsetOf(I64Set(), I64Set(), true)
	ConfirmSubsetOf(I64Set(0), I64Set(), false)
	ConfirmSubsetOf(I64Set(), I64Set(0), true)
	ConfirmSubsetOf(I64Set(0), I64Set(0), true)
	ConfirmSubsetOf(I64Set(0), I64Set(1), false)
	ConfirmSubsetOf(I64Set(0), I64Set(0, 1), true)
	ConfirmSubsetOf(I64Set(0, 1), I64Set(0, 1), true)
	ConfirmSubsetOf(I64Set(0, 1, 2), I64Set(0, 1), false)

	ConfirmSubsetOf(VSet(), VSet(), true)
	ConfirmSubsetOf(VSet("A"), VSet(), false)
	ConfirmSubsetOf(VSet(), VSet("A"), true)
	ConfirmSubsetOf(VSet("A"), VSet("A"), true)
	ConfirmSubsetOf(VSet("A"), VSet("B"), false)
	ConfirmSubsetOf(VSet("A"), VSet("A", "B"), true)
	ConfirmSubsetOf(VSet("A", "B"), VSet("A", "B"), true)
	ConfirmSubsetOf(VSet("A", "B", "C"), VSet("A", "B"), false)

	ConfirmSubsetOf(SSet(), SSet(), true)
	ConfirmSubsetOf(SSet("A"), SSet(), false)
	ConfirmSubsetOf(SSet(), SSet("A"), true)
	ConfirmSubsetOf(SSet("A"), SSet("A"), true)
	ConfirmSubsetOf(SSet("A"), SSet("B"), false)
	ConfirmSubsetOf(SSet("A"), SSet("A", "B"), true)
	ConfirmSubsetOf(SSet("A", "B"), SSet("A", "B"), true)
	ConfirmSubsetOf(SSet("A", "B", "C"), SSet("A", "B"), false)

	ConfirmSubsetOf(USet(), USet(), true)
	ConfirmSubsetOf(USet(0), USet(), false)
	ConfirmSubsetOf(USet(), USet(0), true)
	ConfirmSubsetOf(USet(0), USet(0), true)
	ConfirmSubsetOf(USet(0), USet(1), false)
	ConfirmSubsetOf(USet(0), USet(0, 1), true)
	ConfirmSubsetOf(USet(0, 1), USet(0, 1), true)
	ConfirmSubsetOf(USet(0, 1, 2), USet(0, 1), false)

	ConfirmSubsetOf(U8Set(), U8Set(), true)
	ConfirmSubsetOf(U8Set(0), U8Set(), false)
	ConfirmSubsetOf(U8Set(), U8Set(0), true)
	ConfirmSubsetOf(U8Set(0), U8Set(0), true)
	ConfirmSubsetOf(U8Set(0), U8Set(1), false)
	ConfirmSubsetOf(U8Set(0), U8Set(0, 1), true)
	ConfirmSubsetOf(U8Set(0, 1), U8Set(0, 1), true)
	ConfirmSubsetOf(U8Set(0, 1, 2), U8Set(0, 1), false)

	ConfirmSubsetOf(U16Set(), U16Set(), true)
	ConfirmSubsetOf(U16Set(0), U16Set(), false)
	ConfirmSubsetOf(U16Set(), U16Set(0), true)
	ConfirmSubsetOf(U16Set(0), U16Set(0), true)
	ConfirmSubsetOf(U16Set(0), U16Set(1), false)
	ConfirmSubsetOf(U16Set(0), U16Set(0, 1), true)
	ConfirmSubsetOf(U16Set(0, 1), U16Set(0, 1), true)
	ConfirmSubsetOf(U16Set(0, 1, 2), U16Set(0, 1), false)

	ConfirmSubsetOf(U32Set(), U32Set(), true)
	ConfirmSubsetOf(U32Set(0), U32Set(), false)
	ConfirmSubsetOf(U32Set(), U32Set(0), true)
	ConfirmSubsetOf(U32Set(0), U32Set(0), true)
	ConfirmSubsetOf(U32Set(0), U32Set(1), false)
	ConfirmSubsetOf(U32Set(0), U32Set(0, 1), true)
	ConfirmSubsetOf(U32Set(0, 1), U32Set(0, 1), true)
	ConfirmSubsetOf(U32Set(0, 1, 2), U32Set(0, 1), false)

	ConfirmSubsetOf(U64Set(), U64Set(), true)
	ConfirmSubsetOf(U64Set(0), U64Set(), false)
	ConfirmSubsetOf(U64Set(), U64Set(0), true)
	ConfirmSubsetOf(U64Set(0), U64Set(0), true)
	ConfirmSubsetOf(U64Set(0), U64Set(1), false)
	ConfirmSubsetOf(U64Set(0), U64Set(0, 1), true)
	ConfirmSubsetOf(U64Set(0, 1), U64Set(0, 1), true)
	ConfirmSubsetOf(U64Set(0, 1, 2), U64Set(0, 1), false)

	ConfirmSubsetOf(ASet(), ASet(), true)
	ConfirmSubsetOf(ASet(0), ASet(), false)
	ConfirmSubsetOf(ASet(), ASet(0), true)
	ConfirmSubsetOf(ASet(0), ASet(0), true)
	ConfirmSubsetOf(ASet(0), ASet(1), false)
	ConfirmSubsetOf(ASet(0), ASet(0, 1), true)
	ConfirmSubsetOf(ASet(0, 1), ASet(0, 1), true)
	ConfirmSubsetOf(ASet(0, 1, 2), ASet(0, 1), false)
}

func TestIntersection(t *testing.T) {
	ConfirmIntersection := func(s, x Set, r Equatable) {
		if v := Intersection(s, x); !r.Equal(v) {
			t.Errorf("Intersection(%v, %v) expected %v but produced %v", s, x, r, v)
		}
	}

	ConfirmIntersection(C64Set(), C64Set(), C64Set())
	ConfirmIntersection(C64Set(0), C64Set(1), C64Set())
	ConfirmIntersection(C64Set(0, 1), C64Set(1, 2), C64Set(1))
	ConfirmIntersection(C64Set(0, 1, 2), C64Set(1, 2, 3), C64Set(1, 2))

	ConfirmIntersection(C128Set(), C128Set(), C128Set())
	ConfirmIntersection(C128Set(0), C128Set(1), C128Set())
	ConfirmIntersection(C128Set(0, 1), C128Set(1, 2), C128Set(1))
	ConfirmIntersection(C128Set(0, 1, 2), C128Set(1, 2, 3), C128Set(1, 2))

	ConfirmIntersection(ESet(), ESet(), ESet())
	ConfirmIntersection(ESet(E0), ESet(E1), ESet())
	ConfirmIntersection(ESet(E0, E1), ESet(E1, E2), ESet(E1))
	ConfirmIntersection(ESet(E0, E1, E2), ESet(E1, E2, E3), ESet(E1, E2))

	ConfirmIntersection(F32Set(), F32Set(), F32Set())
	ConfirmIntersection(F32Set(0), F32Set(1), F32Set())
	ConfirmIntersection(F32Set(0, 1), F32Set(1, 2), F32Set(1))
	ConfirmIntersection(F32Set(0, 1, 2), F32Set(1, 2, 3), F32Set(1, 2))

	ConfirmIntersection(F64Set(), F64Set(), F64Set())
	ConfirmIntersection(F64Set(0), F64Set(1), F64Set())
	ConfirmIntersection(F64Set(0, 1), F64Set(1, 2), F64Set(1))
	ConfirmIntersection(F64Set(0, 1, 2), F64Set(1, 2, 3), F64Set(1, 2))

	ConfirmIntersection(ISet(), ISet(), ISet())
	ConfirmIntersection(ISet(0), ISet(1), ISet())
	ConfirmIntersection(ISet(0, 1), ISet(1, 2), ISet(1))
	ConfirmIntersection(ISet(0, 1, 2), ISet(1, 2, 3), ISet(1, 2))

	ConfirmIntersection(I8Set(), I8Set(), I8Set())
	ConfirmIntersection(I8Set(0), I8Set(1), I8Set())
	ConfirmIntersection(I8Set(0, 1), I8Set(1, 2), I8Set(1))
	ConfirmIntersection(I8Set(0, 1, 2), I8Set(1, 2, 3), I8Set(1, 2))

	ConfirmIntersection(I16Set(), I16Set(), I16Set())
	ConfirmIntersection(I16Set(0), I16Set(1), I16Set())
	ConfirmIntersection(I16Set(0, 1), I16Set(1, 2), I16Set(1))
	ConfirmIntersection(I16Set(0, 1, 2), I16Set(1, 2, 3), I16Set(1, 2))

	ConfirmIntersection(I32Set(), I32Set(), I32Set())
	ConfirmIntersection(I32Set(0), I32Set(1), I32Set())
	ConfirmIntersection(I32Set(0, 1), I32Set(1, 2), I32Set(1))
	ConfirmIntersection(I32Set(0, 1, 2), I32Set(1, 2, 3), I32Set(1, 2))

	ConfirmIntersection(I64Set(), I64Set(), I64Set())
	ConfirmIntersection(I64Set(0), I64Set(1), I64Set())
	ConfirmIntersection(I64Set(0, 1), I64Set(1, 2), I64Set(1))
	ConfirmIntersection(I64Set(0, 1, 2), I64Set(1, 2, 3), I64Set(1, 2))

	ConfirmIntersection(VSet(), VSet(), VSet())
	ConfirmIntersection(VSet("A"), VSet("B"), VSet())
	ConfirmIntersection(VSet("A", 1), VSet(1, "C"), VSet(1))
	ConfirmIntersection(VSet("A", 1, 2), VSet(1, 2, "D"), VSet(1, 2))

	ConfirmIntersection(SSet(), SSet(), SSet())
	ConfirmIntersection(SSet("A"), SSet("B"), SSet())
	ConfirmIntersection(SSet("A", "B"), SSet("B", "C"), SSet("B"))
	ConfirmIntersection(SSet("A", "B", "C"), SSet("B", "C", "D"), SSet("B", "C"))

	ConfirmIntersection(USet(), USet(), USet())
	ConfirmIntersection(USet(0), USet(1), USet())
	ConfirmIntersection(USet(0, 1), USet(1, 2), USet(1))
	ConfirmIntersection(USet(0, 1, 2), USet(1, 2, 3), USet(1, 2))

	ConfirmIntersection(U8Set(), U8Set(), U8Set())
	ConfirmIntersection(U8Set(0), U8Set(1), U8Set())
	ConfirmIntersection(U8Set(0, 1), U8Set(1, 2), U8Set(1))
	ConfirmIntersection(U8Set(0, 1, 2), U8Set(1, 2, 3), U8Set(1, 2))

	ConfirmIntersection(U16Set(), U16Set(), U16Set())
	ConfirmIntersection(U16Set(0), U16Set(1), U16Set())
	ConfirmIntersection(U16Set(0, 1), U16Set(1, 2), U16Set(1))
	ConfirmIntersection(U16Set(0, 1, 2), U16Set(1, 2, 3), U16Set(1, 2))

	ConfirmIntersection(U32Set(), U32Set(), U32Set())
	ConfirmIntersection(U32Set(0), U32Set(1), U32Set())
	ConfirmIntersection(U32Set(0, 1), U32Set(1, 2), U32Set(1))
	ConfirmIntersection(U32Set(0, 1, 2), U32Set(1, 2, 3), U32Set(1, 2))

	ConfirmIntersection(U64Set(), U64Set(), U64Set())
	ConfirmIntersection(U64Set(0), U64Set(1), U64Set())
	ConfirmIntersection(U64Set(0, 1), U64Set(1, 2), U64Set(1))
	ConfirmIntersection(U64Set(0, 1, 2), U64Set(1, 2, 3), U64Set(1, 2))

	ConfirmIntersection(ASet(), ASet(), ASet())
	ConfirmIntersection(ASet(0), ASet(1), ASet())
	ConfirmIntersection(ASet(0, 1), ASet(1, 2), ASet(1))
	ConfirmIntersection(ASet(0, 1, 2), ASet(1, 2, 3), ASet(1, 2))
}

func TestUnion(t *testing.T) {
	ConfirmUnion := func(s, x Set, r Equatable) {
		if v := Union(s, x); !r.Equal(v) {
			t.Errorf("%v.Union(%v, %v) expected %v but produced %v", s, x, r, v)
		}
	}

	ConfirmUnion(C64Set(), C64Set(), C64Set())
	ConfirmUnion(C64Set(0), C64Set(), C64Set(0))
	ConfirmUnion(C64Set(), C64Set(1), C64Set(1))
	ConfirmUnion(C64Set(0), C64Set(1), C64Set(0, 1))
	ConfirmUnion(C64Set(0, 1), C64Set(1, 2), C64Set(0, 1, 2))
	ConfirmUnion(C64Set(0, 1, 2), C64Set(1, 2, 3), C64Set(0, 1, 2, 3))

	ConfirmUnion(C128Set(), C128Set(), C128Set())
	ConfirmUnion(C128Set(0), C128Set(), C128Set(0))
	ConfirmUnion(C128Set(), C128Set(1), C128Set(1))
	ConfirmUnion(C128Set(0), C128Set(1), C128Set(0, 1))
	ConfirmUnion(C128Set(0, 1), C128Set(1, 2), C128Set(0, 1, 2))
	ConfirmUnion(C128Set(0, 1, 2), C128Set(1, 2, 3), C128Set(0, 1, 2, 3))

	ConfirmUnion(ESet(), ESet(), ESet())
	ConfirmUnion(ESet(E0), ESet(), ESet(E0))
	ConfirmUnion(ESet(), ESet(E1), ESet(E1))
	ConfirmUnion(ESet(E0), ESet(E1), ESet(E0, E1))
	ConfirmUnion(ESet(E0, E1), ESet(E1, E2), ESet(E0, E1, E2))
	ConfirmUnion(ESet(E0, E1, E2), ESet(E1, E2, E3), ESet(E0, E1, E2, E3))

	ConfirmUnion(F32Set(), F32Set(), F32Set())
	ConfirmUnion(F32Set(0), F32Set(), F32Set(0))
	ConfirmUnion(F32Set(), F32Set(1), F32Set(1))
	ConfirmUnion(F32Set(0), F32Set(1), F32Set(0, 1))
	ConfirmUnion(F32Set(0, 1), F32Set(1, 2), F32Set(0, 1, 2))
	ConfirmUnion(F32Set(0, 1, 2), F32Set(1, 2, 3), F32Set(0, 1, 2, 3))

	ConfirmUnion(F64Set(), F64Set(), F64Set())
	ConfirmUnion(F64Set(0), F64Set(), F64Set(0))
	ConfirmUnion(F64Set(), F64Set(1), F64Set(1))
	ConfirmUnion(F64Set(0), F64Set(1), F64Set(0, 1))
	ConfirmUnion(F64Set(0, 1), F64Set(1, 2), F64Set(0, 1, 2))
	ConfirmUnion(F64Set(0, 1, 2), F64Set(1, 2, 3), F64Set(0, 1, 2, 3))

	ConfirmUnion(ISet(), ISet(), ISet())
	ConfirmUnion(ISet(0), ISet(), ISet(0))
	ConfirmUnion(ISet(), ISet(1), ISet(1))
	ConfirmUnion(ISet(0), ISet(1), ISet(0, 1))
	ConfirmUnion(ISet(0, 1), ISet(1, 2), ISet(0, 1, 2))
	ConfirmUnion(ISet(0, 1, 2), ISet(1, 2, 3), ISet(0, 1, 2, 3))

	ConfirmUnion(I8Set(), I8Set(), I8Set())
	ConfirmUnion(I8Set(0), I8Set(), I8Set(0))
	ConfirmUnion(I8Set(), I8Set(1), I8Set(1))
	ConfirmUnion(I8Set(0), I8Set(1), I8Set(0, 1))
	ConfirmUnion(I8Set(0, 1), I8Set(1, 2), I8Set(0, 1, 2))
	ConfirmUnion(I8Set(0, 1, 2), I8Set(1, 2, 3), I8Set(0, 1, 2, 3))

	ConfirmUnion(I16Set(), I16Set(), I16Set())
	ConfirmUnion(I16Set(0), I16Set(), I16Set(0))
	ConfirmUnion(I16Set(), I16Set(1), I16Set(1))
	ConfirmUnion(I16Set(0), I16Set(1), I16Set(0, 1))
	ConfirmUnion(I16Set(0, 1), I16Set(1, 2), I16Set(0, 1, 2))
	ConfirmUnion(I16Set(0, 1, 2), I16Set(1, 2, 3), I16Set(0, 1, 2, 3))

	ConfirmUnion(I32Set(), I32Set(), I32Set())
	ConfirmUnion(I32Set(0), I32Set(), I32Set(0))
	ConfirmUnion(I32Set(), I32Set(1), I32Set(1))
	ConfirmUnion(I32Set(0), I32Set(1), I32Set(0, 1))
	ConfirmUnion(I32Set(0, 1), I32Set(1, 2), I32Set(0, 1, 2))
	ConfirmUnion(I32Set(0, 1, 2), I32Set(1, 2, 3), I32Set(0, 1, 2, 3))

	ConfirmUnion(I64Set(), I64Set(), I64Set())
	ConfirmUnion(I64Set(0), I64Set(), I64Set(0))
	ConfirmUnion(I64Set(), I64Set(1), I64Set(1))
	ConfirmUnion(I64Set(0), I64Set(1), I64Set(0, 1))
	ConfirmUnion(I64Set(0, 1), I64Set(1, 2), I64Set(0, 1, 2))
	ConfirmUnion(I64Set(0, 1, 2), I64Set(1, 2, 3), I64Set(0, 1, 2, 3))

	ConfirmUnion(VSet(), VSet(), VSet())
	ConfirmUnion(VSet("A"), VSet(), VSet("A"))
	ConfirmUnion(VSet(), VSet("B"), VSet("B"))
	ConfirmUnion(VSet("A"), VSet("B"), VSet("A", "B"))
	ConfirmUnion(VSet("A", "B"), VSet("B", "C"), VSet("A", "B", "C"))
	ConfirmUnion(VSet(0, "B", "C"), VSet("B", "C", 3), VSet(0, "B", "C", 3))

	ConfirmUnion(SSet(), SSet(), SSet())
	ConfirmUnion(SSet("A"), SSet(), SSet("A"))
	ConfirmUnion(SSet(), SSet("B"), SSet("B"))
	ConfirmUnion(SSet("A"), SSet("B"), SSet("A", "B"))
	ConfirmUnion(SSet("A", "B"), SSet("B", "C"), SSet("A", "B", "C"))
	ConfirmUnion(SSet("A", "B", "C"), SSet("B", "C", "D"), SSet("A", "B", "C", "D"))

	ConfirmUnion(USet(), USet(), USet())
	ConfirmUnion(USet(0), USet(), USet(0))
	ConfirmUnion(USet(), USet(1), USet(1))
	ConfirmUnion(USet(0), USet(1), USet(0, 1))
	ConfirmUnion(USet(0, 1), USet(1, 2), USet(0, 1, 2))
	ConfirmUnion(USet(0, 1, 2), USet(1, 2, 3), USet(0, 1, 2, 3))

	ConfirmUnion(U8Set(), U8Set(), U8Set())
	ConfirmUnion(U8Set(0), U8Set(), U8Set(0))
	ConfirmUnion(U8Set(), U8Set(1), U8Set(1))
	ConfirmUnion(U8Set(0), U8Set(1), U8Set(0, 1))
	ConfirmUnion(U8Set(0, 1), U8Set(1, 2), U8Set(0, 1, 2))
	ConfirmUnion(U8Set(0, 1, 2), U8Set(1, 2, 3), U8Set(0, 1, 2, 3))

	ConfirmUnion(U16Set(), U16Set(), U16Set())
	ConfirmUnion(U16Set(0), U16Set(), U16Set(0))
	ConfirmUnion(U16Set(), U16Set(1), U16Set(1))
	ConfirmUnion(U16Set(0), U16Set(1), U16Set(0, 1))
	ConfirmUnion(U16Set(0, 1), U16Set(1, 2), U16Set(0, 1, 2))
	ConfirmUnion(U16Set(0, 1, 2), U16Set(1, 2, 3), U16Set(0, 1, 2, 3))

	ConfirmUnion(U32Set(), U32Set(), U32Set())
	ConfirmUnion(U32Set(0), U32Set(), U32Set(0))
	ConfirmUnion(U32Set(), U32Set(1), U32Set(1))
	ConfirmUnion(U32Set(0), U32Set(1), U32Set(0, 1))
	ConfirmUnion(U32Set(0, 1), U32Set(1, 2), U32Set(0, 1, 2))
	ConfirmUnion(U32Set(0, 1, 2), U32Set(1, 2, 3), U32Set(0, 1, 2, 3))

	ConfirmUnion(U64Set(), U64Set(), U64Set())
	ConfirmUnion(U64Set(0), U64Set(), U64Set(0))
	ConfirmUnion(U64Set(), U64Set(1), U64Set(1))
	ConfirmUnion(U64Set(0), U64Set(1), U64Set(0, 1))
	ConfirmUnion(U64Set(0, 1), U64Set(1, 2), U64Set(0, 1, 2))
	ConfirmUnion(U64Set(0, 1, 2), U64Set(1, 2, 3), U64Set(0, 1, 2, 3))

	ConfirmUnion(ASet(), ASet(), ASet())
	ConfirmUnion(ASet(0), ASet(), ASet(0))
	ConfirmUnion(ASet(), ASet(1), ASet(1))
	ConfirmUnion(ASet(0), ASet(1), ASet(0, 1))
	ConfirmUnion(ASet(0, 1), ASet(1, 2), ASet(0, 1, 2))
	ConfirmUnion(ASet(0, 1, 2), ASet(1, 2, 3), ASet(0, 1, 2, 3))
}

func TestDifference(t *testing.T) {
	ConfirmDifference := func(s, x Set, r Equatable) {
		if v := Difference(s, x); !r.Equal(v) {
			t.Errorf("Difference(%v, %v) expected %v but produced %v", s, x, r, v)
		}
	}

	ConfirmDifference(C64Set(), C64Set(), C64Set())
	ConfirmDifference(C64Set(0), C64Set(), C64Set(0))
	ConfirmDifference(C64Set(), C64Set(1), C64Set())
	ConfirmDifference(C64Set(0), C64Set(1), C64Set(0))
	ConfirmDifference(C64Set(0, 1), C64Set(1, 2), C64Set(0))
	ConfirmDifference(C64Set(0, 1, 2), C64Set(1, 2, 3), C64Set(0))
	ConfirmDifference(C64Set(0, 1, 2, 3), C64Set(1, 2, 3), C64Set(0))

	ConfirmDifference(C128Set(), C128Set(), C128Set())
	ConfirmDifference(C128Set(0), C128Set(), C128Set(0))
	ConfirmDifference(C128Set(), C128Set(1), C128Set())
	ConfirmDifference(C128Set(0), C128Set(1), C128Set(0))
	ConfirmDifference(C128Set(0, 1), C128Set(1, 2), C128Set(0))
	ConfirmDifference(C128Set(0, 1, 2), C128Set(1, 2, 3), C128Set(0))
	ConfirmDifference(C128Set(0, 1, 2, 3), C128Set(1, 2, 3), C128Set(0))

	ConfirmDifference(ESet(), ESet(), ESet())
	ConfirmDifference(ESet(E0), ESet(), ESet(E0))
	ConfirmDifference(ESet(), ESet(E1), ESet())
	ConfirmDifference(ESet(E0), ESet(E1), ESet(E0))
	ConfirmDifference(ESet(E0, E1), ESet(E1, E2), ESet(E0))
	ConfirmDifference(ESet(E0, E1, E2), ESet(E1, E2, E3), ESet(E0))
	ConfirmDifference(ESet(E0, E1, E2, E3), ESet(E1, E2, E3), ESet(E0))

	ConfirmDifference(F32Set(), F32Set(), F32Set())
	ConfirmDifference(F32Set(0), F32Set(), F32Set(0))
	ConfirmDifference(F32Set(), F32Set(1), F32Set())
	ConfirmDifference(F32Set(0), F32Set(1), F32Set(0))
	ConfirmDifference(F32Set(0, 1), F32Set(1, 2), F32Set(0))
	ConfirmDifference(F32Set(0, 1, 2), F32Set(1, 2, 3), F32Set(0))
	ConfirmDifference(F32Set(0, 1, 2, 3), F32Set(1, 2, 3), F32Set(0))

	ConfirmDifference(F64Set(), F64Set(), F64Set())
	ConfirmDifference(F64Set(0), F64Set(), F64Set(0))
	ConfirmDifference(F64Set(), F64Set(1), F64Set())
	ConfirmDifference(F64Set(0), F64Set(1), F64Set(0))
	ConfirmDifference(F64Set(0, 1), F64Set(1, 2), F64Set(0))
	ConfirmDifference(F64Set(0, 1, 2), F64Set(1, 2, 3), F64Set(0))
	ConfirmDifference(F64Set(0, 1, 2, 3), F64Set(1, 2, 3), F64Set(0))

	ConfirmDifference(ISet(), ISet(), ISet())
	ConfirmDifference(ISet(0), ISet(), ISet(0))
	ConfirmDifference(ISet(), ISet(1), ISet())
	ConfirmDifference(ISet(0), ISet(1), ISet(0))
	ConfirmDifference(ISet(0, 1), ISet(1, 2), ISet(0))
	ConfirmDifference(ISet(0, 1, 2), ISet(1, 2, 3), ISet(0))
	ConfirmDifference(ISet(0, 1, 2, 3), ISet(1, 2, 3), ISet(0))

	ConfirmDifference(I8Set(), I8Set(), I8Set())
	ConfirmDifference(I8Set(0), I8Set(), I8Set(0))
	ConfirmDifference(I8Set(), I8Set(1), I8Set())
	ConfirmDifference(I8Set(0), I8Set(1), I8Set(0))
	ConfirmDifference(I8Set(0, 1), I8Set(1, 2), I8Set(0))
	ConfirmDifference(I8Set(0, 1, 2), I8Set(1, 2, 3), I8Set(0))
	ConfirmDifference(I8Set(0, 1, 2, 3), I8Set(1, 2, 3), I8Set(0))

	ConfirmDifference(I16Set(), I16Set(), I16Set())
	ConfirmDifference(I16Set(0), I16Set(), I16Set(0))
	ConfirmDifference(I16Set(), I16Set(1), I16Set())
	ConfirmDifference(I16Set(0), I16Set(1), I16Set(0))
	ConfirmDifference(I16Set(0, 1), I16Set(1, 2), I16Set(0))
	ConfirmDifference(I16Set(0, 1, 2), I16Set(1, 2, 3), I16Set(0))
	ConfirmDifference(I16Set(0, 1, 2, 3), I16Set(1, 2, 3), I16Set(0))

	ConfirmDifference(I32Set(), I32Set(), I32Set())
	ConfirmDifference(I32Set(0), I32Set(), I32Set(0))
	ConfirmDifference(I32Set(), I32Set(1), I32Set())
	ConfirmDifference(I32Set(0), I32Set(1), I32Set(0))
	ConfirmDifference(I32Set(0, 1), I32Set(1, 2), I32Set(0))
	ConfirmDifference(I32Set(0, 1, 2), I32Set(1, 2, 3), I32Set(0))
	ConfirmDifference(I32Set(0, 1, 2, 3), I32Set(1, 2, 3), I32Set(0))

	ConfirmDifference(I64Set(), I64Set(), I64Set())
	ConfirmDifference(I64Set(0), I64Set(), I64Set(0))
	ConfirmDifference(I64Set(), I64Set(1), I64Set())
	ConfirmDifference(I64Set(0), I64Set(1), I64Set(0))
	ConfirmDifference(I64Set(0, 1), I64Set(1, 2), I64Set(0))
	ConfirmDifference(I64Set(0, 1, 2), I64Set(1, 2, 3), I64Set(0))
	ConfirmDifference(I64Set(0, 1, 2, 3), I64Set(1, 2, 3), I64Set(0))

	ConfirmDifference(VSet(), VSet(), VSet())
	ConfirmDifference(VSet("A"), VSet(), VSet("A"))
	ConfirmDifference(VSet(), VSet("B"), VSet())
	ConfirmDifference(VSet("A"), VSet("B"), VSet("A"))
	ConfirmDifference(VSet("A", "B"), VSet("B", "C"), VSet("A"))
	ConfirmDifference(VSet("A", "B", "C"), VSet("B", "C", "D"), VSet("A"))
	ConfirmDifference(VSet("A", "B", "C", "D"), VSet("B", "C", "D"), VSet("A"))

	ConfirmDifference(SSet(), SSet(), SSet())
	ConfirmDifference(SSet("A"), SSet(), SSet("A"))
	ConfirmDifference(SSet(), SSet("B"), SSet())
	ConfirmDifference(SSet("A"), SSet("B"), SSet("A"))
	ConfirmDifference(SSet("A", "B"), SSet("B", "C"), SSet("A"))
	ConfirmDifference(SSet("A", "B", "C"), SSet("B", "C", "D"), SSet("A"))
	ConfirmDifference(SSet("A", "B", "C", "D"), SSet("B", "C", "D"), SSet("A"))

	ConfirmDifference(USet(), USet(), USet())
	ConfirmDifference(USet(0), USet(), USet(0))
	ConfirmDifference(USet(), USet(1), USet())
	ConfirmDifference(USet(0), USet(1), USet(0))
	ConfirmDifference(USet(0, 1), USet(1, 2), USet(0))
	ConfirmDifference(USet(0, 1, 2), USet(1, 2, 3), USet(0))
	ConfirmDifference(USet(0, 1, 2, 3), USet(1, 2, 3), USet(0))

	ConfirmDifference(U8Set(), U8Set(), U8Set())
	ConfirmDifference(U8Set(0), U8Set(), U8Set(0))
	ConfirmDifference(U8Set(), U8Set(1), U8Set())
	ConfirmDifference(U8Set(0), U8Set(1), U8Set(0))
	ConfirmDifference(U8Set(0, 1), U8Set(1, 2), U8Set(0))
	ConfirmDifference(U8Set(0, 1, 2), U8Set(1, 2, 3), U8Set(0))
	ConfirmDifference(U8Set(0, 1, 2, 3), U8Set(1, 2, 3), U8Set(0))

	ConfirmDifference(U16Set(), U16Set(), U16Set())
	ConfirmDifference(U16Set(0), U16Set(), U16Set(0))
	ConfirmDifference(U16Set(), U16Set(1), U16Set())
	ConfirmDifference(U16Set(0), U16Set(1), U16Set(0))
	ConfirmDifference(U16Set(0, 1), U16Set(1, 2), U16Set(0))
	ConfirmDifference(U16Set(0, 1, 2), U16Set(1, 2, 3), U16Set(0))
	ConfirmDifference(U16Set(0, 1, 2, 3), U16Set(1, 2, 3), U16Set(0))

	ConfirmDifference(U32Set(), U32Set(), U32Set())
	ConfirmDifference(U32Set(0), U32Set(), U32Set(0))
	ConfirmDifference(U32Set(), U32Set(1), U32Set())
	ConfirmDifference(U32Set(0), U32Set(1), U32Set(0))
	ConfirmDifference(U32Set(0, 1), U32Set(1, 2), U32Set(0))
	ConfirmDifference(U32Set(0, 1, 2), U32Set(1, 2, 3), U32Set(0))
	ConfirmDifference(U32Set(0, 1, 2, 3), U32Set(1, 2, 3), U32Set(0))

	ConfirmDifference(U64Set(), U64Set(), U64Set())
	ConfirmDifference(U64Set(0), U64Set(), U64Set(0))
	ConfirmDifference(U64Set(), U64Set(1), U64Set())
	ConfirmDifference(U64Set(0), U64Set(1), U64Set(0))
	ConfirmDifference(U64Set(0, 1), U64Set(1, 2), U64Set(0))
	ConfirmDifference(U64Set(0, 1, 2), U64Set(1, 2, 3), U64Set(0))
	ConfirmDifference(U64Set(0, 1, 2, 3), U64Set(1, 2, 3), U64Set(0))

	ConfirmDifference(ASet(), ASet(), ASet())
	ConfirmDifference(ASet(0), ASet(), ASet(0))
	ConfirmDifference(ASet(), ASet(1), ASet())
	ConfirmDifference(ASet(0), ASet(1), ASet(0))
	ConfirmDifference(ASet(0, 1), ASet(1, 2), ASet(0))
	ConfirmDifference(ASet(0, 1, 2), ASet(1, 2, 3), ASet(0))
	ConfirmDifference(ASet(0, 1, 2, 3), ASet(1, 2, 3), ASet(0))
}