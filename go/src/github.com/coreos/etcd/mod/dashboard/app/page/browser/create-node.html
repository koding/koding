<div class="ed-p-create-node">
  <form ng-controller="CreateNodeFormCtrl" ng-submit="submit()" name="form" role="form">

    <div class="modal-header">
      <h4 class="modal-title">Create Node</h4>
    </div>

    <div class="modal-body">

      <div class="row form-row">
        <div class="col-sm-2">
          <label for="ed-p-create-node__key" class="control-label">Key</label>
        </div>
        <div class="col-sm-10 input-group">
          <span class="input-group-addon" ng-bind="keyInputPrefix"></span>
          <input name="key"
            required
            spellcheck="false"
            id="ed-p-create-node__key"
            type="text"
            ng-model="fields.key"
            class="form-control"/>
        </div>
        <div class="col-sm-10 co-form-validation" ng-show="form.key.$dirty && form.key.$invalid">
          <div ng-show="form.key.$error.required" class="co-m-message co-m-message--error">Key is required.</div>
          <div ng-show="form.key.blur && form.key.$error.key" class="co-m-message co-m-message--error">Not a valid key.</div>
        </div>
      </div>

      <div class="row form-row">
        <div class="col-sm-2">
          <strong class="control-label">Type</strong>
        </div>
        <div class="col-sm-10">
          <div>
            <input name="type"
              id="ed-p-create-node__type-dir"
              type="radio"
              value="dir"
              ng-model="fields.type"/>
            <label class="co-m-radio-label" for="ed-p-create-node__type-dir">Directory</label>
          </div>
          <div>
            <input name="type"
              id="ed-p-create-node__type-key"
              value="key"
              type="radio"
              ng-model="fields.type"/>
            <label class="co-m-radio-label" for="ed-p-create-node__type-key">Key</label>
          </div>
        </div>
      </div>

      <div class="row form-row">
        <div class="col-sm-2">
          <label for="ed-p-create-node__value" class="control-label">Value</label>
        </div>
        <div class="col-sm-10">
          <textarea ng-model="fields.value"
            spellcheck="false"
            ng-disabled="fields.type == 'dir'"
            rows="5"
            name="value"
            id="ed-p-create-node__value"
            class="form-control"></textarea>
        </div>
      </div>

      <div class="row form-row">
        <div class="col-sm-2">
          <label for="ed-p-create-node__ttl" class="control-label">TTL</label>
        </div>
        <div class="col-sm-10">
          <input name="ttl"
            id="ed-p-create-node__ttl"
            type="number"
            class="form-control ed-m-number-input"
            min="0"
            ng-blur="form.ttl.blur = true"
            ng-model="fields.ttl"/>
            Seconds
        </div>
      </div>

    </div>

    <div class="modal-footer" co-btn-bar complete-promise="requestPromise">
      <co-error-message formatter="etcdApi" promise="requestPromise"></co-error-message>
      <button type="submit" class="btn btn-primary">Save</button>
      <button type="button" ng-click="cancel()" class="btn btn-link">Cancel</button>
    </div>

  </form>
</div>
