{ Outsider, Insider } = require './models'

Outsider.setClient 'localhost:27017/test'

valid = new Outsider
  insider :
    name  : 'aaa'
  # insiders: [insider, { name:'bbb' }]

console.log 'valid', valid
console.log ''
console.log 'valid.insider', valid.insider
console.log ''
console.log 'valid.insider.prune()', valid.insider.prune()
console.log ''
console.log 'valid.prune()', valid.prune()

# invalid = new Outsider
#   insiders: [{ name:'ccc' },{ name:'ddd' }]
#
# valid.validate (err) ->
#   console.log err

valid.save()

# invalid.validate (err, model) ->
#   console.log err, model
