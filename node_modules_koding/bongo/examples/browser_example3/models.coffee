bongo = require '../../lib'

class @Shared extends bongo.Model

  @share()

  @set
    sharedMethods   :
      static        : ['sayHi', 'sayHiToUser']
    schema          :
      title         : String
      body          : String

  @sayHi = (callback) ->
    callback 'O hai!'

  @sayHiToUser = bongo.secure (client, callback) ->
    callback 'hi', client

class @Brown extends bongo.Model

  @share()

  @set
    sharedMethods   :
      static        : ['create']
      instance      : ['sayHi', 'sayHiToUser']
    schema          :
      title         : String
      body          : String

  @create = (callback) ->
    callback new Brown { title: 'hot', body: 'dog' }

  sayHi :(callback) ->
    callback 'O hai!'

  sayHiToUser :bongo.secure (client, callback) ->
    callback 'hi', client
