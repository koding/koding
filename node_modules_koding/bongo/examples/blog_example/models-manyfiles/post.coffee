{ Model, ObjectId, Validator } = require '../../../lib'
Meta = require '../../bundles/meta'
Comment = require './comment'

module.exports = class Post extends Model

  @setSchema
    author      : ObjectId
    title       :
      type      : String
      required  : yes
    body        :
      type      : String
    comments    : [Comment]
    meta        : Meta

  addComment:(comment) ->
    @comments.push comment
