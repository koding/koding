fs = require 'fs'
http = require 'http'
coffee = require 'coffee-script'

http.createServer (req, res) ->
  switch req.url
    when '/'
      res.writeHead 200, { 'Content-type': 'text/html' }
      fs.readFile './index.html', 'utf8', (err, buf) ->
        res.end buf
    when '/graphlet.js'
      res.writeHead 200, { 'Content-type': 'text/javascript' }
      fs.readFile '../../ui/graphlet.coffee', 'utf8', (err, buf) ->
        res.end coffee.compile(buf)

    when '/graphletExample.js'
      res.writeHead 200, { 'Content-type': 'text/javascript' }
      fs.readFile './graphletExample.coffee', 'utf8', (err, buf) ->
        res.end coffee.compile(buf)
.listen 7778
