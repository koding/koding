{ Module } = require '../../lib'

@GitRepo = class GitRepo extends Module
  @setSchema
    name   : String
    url    : String
    meta   : require 'bongo/bundles/meta'


@Reply = class Reply extends Module
  @setSchema
    title  : String
    body   : String
    meta   : require 'bongo/bundles/meta'


@Message = class Message extends Module
  @set
    schema  :
      title : String
      body  : String
      meta  : require 'bongo/bundles/meta'
    relationships   :
      reply         :
        targetType  : Reply
        as          : 'root'


@Account = class Account extends Module
  @set
    schema          :
      nickname      : String
      email         :
        type        : String
        email       : yes
    relationships   :
      message       :
        targetType  : Message
        as          : ['sender', 'recipient']
